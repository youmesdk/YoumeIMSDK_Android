<!DOCTYPE html>            <html lang="en">            <head>              <meta charset="UTF-8" />              <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />              <meta http-equiv="X-UA-Compatible" content="IE=edge" />              <title>IM SDK for Android 使用指南</title>              <style>.code,sub,sup{position:relative}button,hr,input{overflow:visible}audio,canvas,progress,video{display:inline-block}html,legend{box-sizing:border-box}.btn:focus,a:focus{box-shadow:0 0 0 .2rem rgba(87,100,198,.15)}code,mark,progress,sub,sup{vertical-align:baseline}.hljs-emphasis,.text-italic,dfn{font-style:italic}.text-break,pre code{word-wrap:break-word}.btn,a,button{outline:0}.table,table{border-collapse:collapse}li ul li,ul ul{list-style-type:circle}.btn,.text-clip,.text-ellipsis,code{white-space:nowrap}html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section{display:block}hr{box-sizing:content-box}a{background-color:transparent}a:active,a:hover{outline-width:0}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0}sub{bottom:-.25em}sup{top:-.5em}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;margin:0}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}fieldset{border:0;margin:0;padding:0}legend{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}summary{display:list-item}[hidden],template{display:none}.btn,mark{display:inline-block}*,::after,::before{box-sizing:inherit}html{font-size:10px;line-height:1.42857143;-webkit-tap-highlight-color:transparent}body{margin:0;background:#fff;color:#50596c;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;font-size:1.4rem;overflow-x:hidden;text-rendering:optimizeLegibility}a.active,a:active,a:focus,a:hover{color:#3b49af;text-decoration:underline}.btn,.btn.active,.btn.btn-clear,.btn:active,.btn:focus,.btn:hover,.docs-content .anchor:focus,.docs-content .anchor:hover,.grid-hero h2 u,.menu .menu-item,.menu .menu-item>a,.nav .nav-item a,a{text-decoration:none}h1,h2,h3,h4,h5,h6{color:inherit;font-weight:300;line-height:1.2;margin-bottom:1.5rem;margin-top:0}h6{font-size:1.6rem}p{line-height:2.4rem;margin:0 0 1rem}a,ins,u{-webkit-text-decoration-skip:ink edges;text-decoration-skip:ink edges}blockquote{margin-left:0}blockquote p:last-child{margin-bottom:0}blockquote cite{color:#acb3c2}ol,ul{margin:2rem 0 2rem 2rem;padding:0}ol ol,ol ul,ul ol,ul ul{margin:1.5rem 0 1.5rem 2rem}ol li,ul li{margin-top:1rem}ul{list-style:disc}ol{list-style:decimal}ol ol{list-style-type:lower-alpha}dl dt{font-weight:700}dl dd{margin:.5rem 0 1.5rem}mark{background:#ffe9b3;border-radius:.2rem;color:#50596c;line-height:1;padding:.3rem .4rem}.table td,.table th{padding:1.5rem 1rem}.table{border-spacing:0;text-align:left;width:100%}.table.table-striped tbody tr:nth-of-type(odd){background:#f8f9fa}.table tbody tr.active,.table.table-hover tbody tr:hover,.table.table-striped tbody tr.active{background:#f0f1f4}.table td{border-bottom:.1rem solid #f0f1f4}.table th{border-bottom:.1rem solid #727e96}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;border:.1rem solid #5764c6;border-radius:.2rem;color:#5764c6;cursor:pointer;font-size:1.4rem;height:3.2rem;line-height:2rem;padding:.5rem .8rem;text-align:center;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle}.btn:focus{background:#fbfbfe}.btn:hover{background:#5764c6;border-color:#4c59c2;color:#fff}.btn.active,.btn:active{background:#4c59c2;border-color:#3e4cb6;color:#fff}.btn.disabled,.btn:disabled,.btn[disabled]{cursor:default;opacity:.5;pointer-events:none}.hand,button:hover{cursor:pointer}.btn.btn-primary{background:#5764c6;border-color:#4c59c2;color:#fff}.btn.btn-primary:focus,.btn.btn-primary:hover{background:#4452c0;border-color:#3e4cb6;color:#fff}.btn.btn-primary.active,.btn.btn-primary:active{background:#3f4eba;border-color:#3b49af;color:#fff}.btn.btn-primary.loading::after{border-bottom-color:#fff;border-left-color:#fff}.btn.btn-link{background:0 0;border-color:transparent;color:#5764c6}.btn.btn-link.active,.btn.btn-link:active,.btn.btn-link:focus,.btn.btn-link:hover{color:#3b49af}.btn.btn-sm{font-size:1.2rem;height:2.4rem;padding:.1rem .8rem}.btn.btn-lg{font-size:1.6rem;height:4rem;padding:.9rem .8rem}.btn.btn-block{display:block;width:100%}.btn.btn-action{padding-left:0;padding-right:0;width:3.2rem}.btn.btn-action.btn-sm{width:2.4rem}.btn.btn-action.btn-lg{width:4rem}.btn.btn-clear{background:0 0;border:0;color:currentColor;height:1.6rem;line-height:1.6rem;margin-left:.4rem;margin-right:-.2rem;opacity:.45;padding:0 .2rem;width:1.6rem}.btn.btn-clear:hover{opacity:.85}.btn.btn-clear::before{content:"\2715"}.btn-group{display:inline-flex;display:-ms-inline-flexbox;display:-webkit-inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.btn-group .btn{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.btn-group .btn:first-child:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group .btn:not(:first-child):not(:last-child){border-radius:0;margin-left:-.1rem}.btn-group .btn:last-child:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-.1rem}.code,.menu,.menu .menu-item>a{border-radius:.2rem}.btn-group .btn.active,.btn-group .btn:active,.btn-group .btn:focus,.btn-group .btn:hover{z-index:1}.btn-group.btn-group-block{display:flex;display:-ms-flexbox;display:-webkit-flex}.btn-group.btn-group-block .btn{-webkit-flex:1 0 0;-ms-flex:1 0 0;flex:1 0 0}code{background:#fdf4f4;display:inline-block}.code{color:#50596c;line-height:2rem}.code::before{color:#acb3c2;content:attr(data-lang);font-size:1.2rem;position:absolute;right:1rem;top:.2rem}.code code{background:#f8f9fa;color:inherit;display:block;line-height:inherit;overflow-x:auto;padding:2rem;width:100%}.img-responsive{display:block;height:auto;max-width:100%}.img-fit-cover{object-fit:cover}.img-fit-contain{object-fit:contain}.video-responsive{display:block;overflow:hidden;padding:0;position:relative;width:100%}.video-responsive::before{content:"";display:block;padding-bottom:56.25%}.video-responsive embed,.video-responsive iframe,.video-responsive object{bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.video-responsive video{height:auto;max-width:100%;width:100%}.video-responsive-4-3::before{padding-bottom:75%}.video-responsive-1-1::before{padding-bottom:100%}.figure{margin:0 0 1rem}.figure .figure-caption{color:#727e96;margin-top:1rem}.container{margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem;width:100%}.container.grid-1280{max-width:130rem}.container.grid-960{max-width:98rem}.container.grid-480{max-width:50rem}.column,img{max-width:100%}.columns{display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:-1rem;margin-right:-1rem}.columns.col-gapless{margin-left:0;margin-right:0}.columns.col-gapless .column{padding-left:0;padding-right:0}.columns.col-oneline{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow-x:auto}.column{-webkit-flex:1;-ms-flex:1;flex:1;padding:1rem}.column.col-1,.column.col-10,.column.col-11,.column.col-12,.column.col-2,.column.col-3,.column.col-4,.column.col-5,.column.col-6,.column.col-7,.column.col-8,.column.col-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-12{width:100%}.col-11{width:91.66666667%}.col-10{width:83.33333333%}.col-9{width:75%}.col-8{width:66.66666667%}.col-7{width:58.33333333%}.col-6{width:50%}.col-5{width:41.66666667%}.col-4{width:33.33333333%}.col-3{width:25%}.col-2{width:16.66666667%}.col-1{width:8.33333333%}@media screen and (max-width:1280px){.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-xl-12{width:100%}.col-xl-11{width:91.66666667%}.col-xl-10{width:83.33333333%}.col-xl-9{width:75%}.col-xl-8{width:66.66666667%}.col-xl-7{width:58.33333333%}.col-xl-6{width:50%}.col-xl-5{width:41.66666667%}.col-xl-4{width:33.33333333%}.col-xl-3{width:25%}.col-xl-2{width:16.66666667%}.col-xl-1{width:8.33333333%}}@media screen and (max-width:960px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}}@media screen and (max-width:840px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}}@media screen and (max-width:600px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}}.show-lg,.show-md,.show-sm,.show-xl,.show-xs{display:none!important}@media screen and (max-width:480px){.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.hide-xs{display:none!important}.show-xs{display:block!important}}@media screen and (max-width:600px){.hide-sm{display:none!important}.show-sm{display:block!important}}@media screen and (max-width:840px){.hide-md{display:none!important}.show-md{display:block!important}}@media screen and (max-width:960px){.hide-lg{display:none!important}.show-lg{display:block!important}}@media screen and (max-width:1280px){.hide-xl{display:none!important}.show-xl{display:block!important}}.navbar{-webkit-align-items:stretch;align-items:stretch;display:flex;display:-ms-flexbox;display:-webkit-flex;-ms-flex-align:stretch;-ms-flex-pack:justify;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:space-between;justify-content:space-between}.navbar .navbar-section{-webkit-align-items:center;align-items:center;display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex:1 0 0;-ms-flex:1 0 0;flex:1 0 0;-ms-flex-align:center}.navbar .navbar-section:last-child{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.navbar .navbar-center{-webkit-align-items:center;align-items:center;display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center}.navbar .navbar-brand{font-size:1.6rem;font-weight:500;text-decoration:none}.menu{background:#fff;box-shadow:0 .1rem .4rem rgba(69,77,93,.3);list-style:none;margin:0;min-width:18rem;padding:1rem;-webkit-transform:translateY(.5rem);-ms-transform:translateY(.5rem);transform:translateY(.5rem);z-index:100}.menu .menu-item{margin-top:0;padding:0 .8rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.menu .menu-item>a{color:inherit;display:block;margin:0 -.8rem;padding:.6rem .8rem}.menu .menu-item>a:focus,.menu .menu-item>a:hover{color:#5764c6}.menu .menu-item>a.active,.menu .menu-item>a:active{background:#fbfbfe;color:#5764c6}.menu .menu-badge{float:right;padding:.6rem 0}.menu .menu-badge .btn{margin-top:-.2rem}.breadcrumb,.nav,.pagination,.tab{list-style:none;margin:.5rem 0}.breadcrumb{padding:1.2rem}.breadcrumb .breadcrumb-item{display:inline-block;margin:0}.breadcrumb .breadcrumb-item:last-child{color:#acb3c2}.breadcrumb .breadcrumb-item:not(:first-child)::before{color:#e7e9ed;content:"/";padding:0 .4rem}.nav{display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.nav .nav-item a{color:#727e96;padding:.6rem .8rem}.nav .nav-item a:focus,.nav .nav-item a:hover,.nav .nav-item.active>a:focus,.nav .nav-item.active>a:hover{color:#5764c6}.nav .nav-item.active>a{font-weight:700}.nav .nav{margin-bottom:1rem;margin-left:2rem}.nav .nav a{color:#acb3c2}.divider,.divider-vert{display:block;position:relative}.divider-vert[data-content]::after,.divider[data-content]::after{background:#fff;color:#e7e9ed;content:attr(data-content);display:inline-block;font-size:1.2rem;padding:0 .8rem;-webkit-transform:translateY(-1.1rem);-ms-transform:translateY(-1.1rem);transform:translateY(-1.1rem)}.clearfix::after,.container::after,.mask:after,.version::after,h3:after{content:""}.divider{border-top:.1rem solid #f0f1f4;height:.1rem;margin:1rem 0}.clearfix::after,.container::after{clear:both;display:table}.block,.centered{display:block}.float-left{float:left!important}.float-right{float:right!important}.rel{position:relative}.abs{position:absolute}.fixed{position:fixed}.centered{float:none;margin-left:auto;margin-right:auto}.mt-10{margin-top:1rem}.mr-10{margin-right:1rem}.mb-10{margin-bottom:1rem}.ml-10{margin-left:1rem}.mt-5{margin-top:.5rem}.mr-5{margin-right:.5rem}.mb-5{margin-bottom:.5rem}.ml-5{margin-left:.5rem}.pt-10{padding-top:1rem}.pr-10{padding-right:1rem}.pb-10{padding-bottom:1rem}.pl-10{padding-left:1rem}.pt-5{padding-top:.5rem}.pr-5{padding-right:.5rem}.pb-5{padding-bottom:.5rem}.pl-5{padding-left:.5rem}.inline{display:inline}.inline-block{display:inline-block}.flex{display:flex;display:-ms-flexbox;display:-webkit-flex}.inline-flex{display:inline-flex;display:-ms-inline-flexbox;display:-webkit-inline-flex}.hide{display:none!important}.visible{visibility:visible}.invisible{visibility:hidden}.text-hide{background:0 0;border:0;color:transparent;font-size:0;line-height:0;text-shadow:none}.text-assistive{border:0;clip:rect(0,0,0,0);height:.1rem;margin:-.1rem;overflow:hidden;padding:0;position:absolute;width:.1rem}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-normal{font-weight:400}.text-bold,li p:first-child{font-weight:700}.text-large{font-size:1.2em}.text-ellipsis{overflow:hidden;text-overflow:ellipsis}.text-clip{overflow:hidden;text-overflow:clip}.text-break{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}.shadow-0{box-shadow:0 0 .2rem rgba(69,77,93,.3)}.shadow-1{box-shadow:0 .1rem .4rem rgba(69,77,93,.3)}.shadow-2{box-shadow:0 .2rem .6rem rgba(69,77,93,.3)}.shadow-3{box-shadow:0 .3rem .8rem rgba(69,77,93,.3)}.shadow-4{box-shadow:0 .4rem 1rem rgba(69,77,93,.3)}.rounded{border-radius:.2rem}.circle{border-radius:50%}.bg-gray{background:#f8f9fa;color:#667189;padding:1rem}.bg-dark,.bg-primary{color:#fff;padding:1rem}.bg-dark{background:#50596c}.bg-primary{background:#5764c6}.section-header{padding:1rem .5rem;position:fixed;top:0;width:100%;z-index:200}.section-hero{position:relative;z-index:300}.grid-header .navbar{height:4rem}.grid-header .navbar-section{padding:0}.grid-header .navbar-brand{color:#50596c}.grid-header .btn-link{color:#667189;padding-left:.6rem;padding-right:.6rem}.grid-header .btn-link:active,.grid-header .btn-link:focus,.grid-header .btn-link:hover{color:#50596c;opacity:.75}.grid-hero{margin-bottom:4rem;margin-top:10rem}.grid-hero h1{color:#50596c;font-size:3.2rem;font-weight:400}.grid-hero h2{color:#5b657a;font-size:1.8rem;font-weight:400;line-height:3rem;margin-bottom:3rem}h3,h4{line-height:1.20849}.grid-hero h2 u{border-bottom:.2rem solid currentColor;padding-bottom:.1rem}.grid-hero .card{background:0 0;border:0;color:#667189;padding:1rem}.grid-hero .card .card-title{color:#5764c6;font-size:1.8rem;margin-bottom:0}.grid-footer{color:#acb3c2;margin-bottom:1rem;margin-top:2rem}.grid-footer a{color:#727e96}.docs-content{padding-top:0}.docs-content .container{padding:1rem}.docs-content header{padding-top:6rem}.docs-content .anchor{height:0;margin-left:.3em;overflow:hidden;position:absolute;width:0}.docs-content .anchor:focus,.docs-content .anchor:hover{height:auto;width:auto}.docs-content .notes{margin:4rem 0}.docs-content .docs-block{border-radius:.2rem;padding:1rem .5rem}.docs-content .docs-dot{border-radius:50%;display:inline-block;height:1rem;padding:0;width:1rem}.docs-content .docs-table td,.docs-content .docs-table th{padding:1.5rem .5rem}.docs-content h1:hover .anchor,.docs-content h2:hover .anchor,.docs-content h3:hover .anchor,.docs-content h4:hover .anchor,.docs-content h5:hover .anchor,.docs-content h6:hover .anchor{height:auto;width:auto}.docs-content .docs-color{border-radius:.2rem;margin:.5rem 0;padding:1rem}.docs-content .docs-color .color-subtitle{font-size:1.2rem;opacity:.75}.docs-content .panel{height:75vh}.docs-content .panel .tile{margin:1.5rem 0}.docs-content .code{color:#667189}.docs-content .code .com{color:#acb3c2}.docs-content .code .tag{color:#5764c6}.docs-content .code .atn{color:#667189}.docs-content .code .atv{color:#e06870}.docs-content .empty .icon{font-size:4rem}.docs-content .form-autocomplete .menu{position:static}.docs-content .example-tile-icon{-webkit-align-content:space-around;align-content:space-around;-webkit-align-items:center;align-items:center;background:#5764c6;border-radius:.2rem;color:#fff;display:flex;display:-ms-flexbox;display:-webkit-flex;-ms-flex-align:center;-ms-flex-line-pack:distribute;font-size:2.4rem;height:4rem;width:4rem}.docs-content .example-tile-icon .icon{margin:auto}.docs-content .comparison-slider .filter-grayscale{-webkit-filter:grayscale(75%);filter:grayscale(75%)}@media screen and (min-width:601px){.section-header .navbar-section{padding:0 .5rem}.docs-sidebar{padding:0 1rem}.docs-sidebar .docs-nav{position:relative}@supports ((position:-webkit-sticky) or (position:sticky)){.docs-sidebar .docs-nav{position:sticky;position:-webkit-sticky;top:1rem;overflow-y:scroll}.docs-nav::-webkit-scrollbar{display:none}.docs-sidebar .docs-nav .nav-item a:focus{box-shadow:none}}}.docs-nav-clear{display:none}@media screen and (max-width:600px){.docs-nav-clear,.docs-sidebar{height:100%;left:0;position:fixed;top:0}.grid-hero h2{font-size:1.8rem}.grid-hero .card{padding:0}.docs-sidebar{background:#fff;overflow-y:auto;padding:0;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);transition:transform .2s ease,-webkit-transform .2s ease;transition:transform .2s ease;transition:-webkit-transform .2s ease;width:24rem;z-index:400}.docs-sidebar:target{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);transition:transform .2s ease,-webkit-transform .2s ease;transition:transform .2s ease;transition:-webkit-transform .2s ease}.docs-sidebar:target+.docs-nav-clear{display:block}.docs-nav-clear{background:rgba(0,0,0,.15);display:none;right:0;width:100%;z-index:300}}.hljs,pre code{background:#282c34}.hljs,h3:after,pre code{display:block}a{color:#2b93f7}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{color:#333}table{margin:10px 0 15px}td,th{border:1px solid #ddd;padding:3px 10px}th{padding:5px 10px}h1,h2,h3,h4{font-weight:500}img{transition:width 1s}h1{font-size:40px;text-align:left;width:auto;margin:50px 0 0;color:#000}h2{margin-top:3rem;line-height:1.25;padding-bottom:.6em;font-size:32px;border-bottom:1px solid #DDD}h3{margin-top:2rem;font-size:24px;letter-spacing:.015em;font-family:"SF Pro Display","SF Pro Icons","Helvetica Neue",Helvetica,Arial,sans-serif}h3:after{height:1px;width:3em;margin:15px 0 10px;background:#2b93f7;clear:both}h4{font-size:20px;letter-spacing:.015em}h5{font-size:16px}.hljs{overflow-x:auto;padding:.5em;color:#abb2bf}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:24px;padding:2px 4px;margin:0 2px;color:#e06870;background-color:#f9f9f9;border-radius:3px}pre{margin:1rem auto;position:relative}pre code{color:#abb2bf;padding:1.6rem .8rem;border-radius:.2rem;border:1px solid #313f48;line-height:1.5;font-size:14px;-ms-overflow-x:auto;word-break:break-all;white-space:pre-wrap}pre .copy-success{position:absolute;left:50%;top:25px;display:none;padding:8px 16px;background-color:#2b93f7;color:#fff;border-radius:4px;margin:-15px 0 0 -54px;z-index:100}.mask{position:relative}.mask:after{position:absolute;top:0;left:0;display:block;height:100%;width:100%;background-color:RGBA(0,0,0,.5);clear:both;transition:opacity .25s}blockquote{padding:10px;border-left:3px solid #e5e8ee;margin:0 0 20px 20px;background:#f8fafd;font-size:14px;display:block;line-height:1.5em}blockquote p,blockquote strong{color:#2996cc}blockquote ol,blockquote ul{margin:0;padding-left:17px}pre:hover .copyButton{opacity:1}button:hover{background:#1484b6}button{background:#19a5e4;border-radius:2px;color:#fff;margin:0;padding:.5rem;transition:background .25s;border:none;box-shadow:none;font-size:1rem;-webkit-appearance:none}pre .copyButton{background-color:#FFF;color:#333;font-size:.8rem;opacity:0;padding:.25rem .5rem;position:absolute;right:.5rem;top:.5rem;transition:opacity .25s}pre .copyButton:hover{background-color:#EEE;color:#000}hr{height:1px;border:none;border-top:1px dashed #06C}</style>            </head>            <body>              <section class="container grid-960">                <a href="#sidebar" class="btn btn-lg btn-link btn-action show-sm">导航</a>                <section class="columns">                  <div id="sidebar" class="docs-sidebar column col-3 col-sm-12">                    <div class="docs-nav nav"><ul>
<li><a href="#imsdk简介">IMSDK简介</a><ul>
<li><a href="#1功能目标">1.功能目标</a></li>
<li><a href="#2sdk目录讲解">2.SDK目录讲解</a></li>
<li><a href="#3关键类及描述">3.关键类及描述</a></li>
<li><a href="#4消息类型定义">4.消息类型定义</a></li>
<li><a href="#5聊天类型定义">5.聊天类型定义</a></li>
</ul>
</li>
<li><a href="#imsdk操作指引">IMSDK操作指引</a><ul>
<li><a href="#申请使用游密im引擎sdk">申请使用游密IM引擎SDK</a></li>
<li><a href="#导入sdk">导入SDK</a><ul>
<li><a href="#1jar包导入">1.jar包导入</a></li>
<li><a href="#2so库导入">2.so库导入</a></li>
<li><a href="#3android权限配置">3.Android权限配置</a></li>
</ul>
</li>
<li><a href="#import包名">import包名</a></li>
<li><a href="#初始化sdk">初始化SDK</a></li>
<li><a href="#设置监听">设置监听</a><ul>
<li><a href="#重连回调">重连回调</a></li>
<li><a href="#用户进出频道通知">用户进出频道通知</a></li>
<li><a href="#用户被踢通知">用户被踢通知</a></li>
<li><a href="#消息回调">消息回调</a></li>
<li><a href="#自动下载语音消息回调">自动下载语音消息回调</a></li>
<li><a href="#地理位置信息回调">地理位置信息回调</a></li>
<li><a href="#举报回调">举报回调</a></li>
<li><a href="#公告回调">公告回调</a></li>
<li><a href="#用户信息变更通知">用户信息变更通知</a></li>
<li><a href="#好友相关通知">好友相关通知</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#用户管理">用户管理</a><ul>
<li><a href="#用户登录">用户登录</a></li>
<li><a href="#用户登出">用户登出</a></li>
<li><a href="#被用户踢出通知">被用户踢出通知</a></li>
<li><a href="#用户信息">用户信息</a><ul>
<li><a href="#设置用户的详细信息">设置用户的详细信息</a></li>
<li><a href="#获取指定用户的详细信息">获取指定用户的详细信息</a></li>
<li><a href="#查询用户在线状态">查询用户在线状态</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#频道管理">频道管理</a><ul>
<li><a href="#加入频道">加入频道</a></li>
<li><a href="#离开频道">离开频道</a></li>
<li><a href="#离开所有频道">离开所有频道</a></li>
<li><a href="#用户进出频道通知-1">用户进出频道通知</a></li>
<li><a href="#获取房间成员数量">获取房间成员数量</a></li>
</ul>
</li>
<li><a href="#消息管理">消息管理</a><ul>
<li><a href="#接收消息">接收消息</a></li>
<li><a href="#发送文本消息">发送文本消息</a></li>
<li><a href="#群发文本消息">群发文本消息</a></li>
<li><a href="#发送礼物消息">发送礼物消息</a></li>
<li><a href="#发送自定义消息">发送自定义消息</a></li>
<li><a href="#发送文件消息">发送文件消息</a><ul>
<li><a href="#发送文件">发送文件</a></li>
<li><a href="#下载文件">下载文件</a></li>
</ul>
</li>
<li><a href="#语音消息管理">语音消息管理</a><ul>
<li><a href="#设置自动下载语音消息">设置自动下载语音消息</a></li>
<li><a href="#设置语音识别的语言">设置语音识别的语言</a></li>
<li><a href="#发送语音消息">发送语音消息</a></li>
<li><a href="#接收语音消息">接收语音消息</a></li>
<li><a href="#语音播放">语音播放</a></li>
<li><a href="#录音缓存">录音缓存</a></li>
<li><a href="#设置下载保存目录">设置下载保存目录</a></li>
<li><a href="#将接收的语音消息标记为已播放">将接收的语音消息标记为已播放</a></li>
<li><a href="#获取麦克风状态">获取麦克风状态</a></li>
</ul>
</li>
<li><a href="#录音上传">录音上传</a><ul>
<li><a href="#启动录音">启动录音</a></li>
<li><a href="#停止录音并发送-1">停止录音并发送</a></li>
<li><a href="#根据url下载语音">根据url下载语音</a></li>
</ul>
</li>
<li><a href="#消息屏蔽">消息屏蔽</a><ul>
<li><a href="#屏蔽解除屏蔽用户消息">屏蔽/解除屏蔽用户消息</a></li>
<li><a href="#解除所有已屏蔽用户">解除所有已屏蔽用户</a></li>
<li><a href="#获取被屏蔽消息用户">获取被屏蔽消息用户</a></li>
</ul>
</li>
<li><a href="#消息功能设置">消息功能设置</a><ul>
<li><a href="#设置消息已读">设置消息已读</a></li>
<li><a href="#批量设置消息已读">批量设置消息已读</a></li>
<li><a href="#切换获取消息模式">切换获取消息模式</a></li>
<li><a href="#手动获取消息">手动获取消息</a></li>
<li><a href="#新消息通知">新消息通知</a></li>
</ul>
</li>
<li><a href="#消息记录管理">消息记录管理</a><ul>
<li><a href="#设置是否保存频道聊天记录">设置是否保存频道聊天记录</a></li>
<li><a href="#拉取频道最近聊天记录">拉取频道最近聊天记录</a></li>
<li><a href="#本地历史记录管理">本地历史记录管理</a></li>
</ul>
</li>
<li><a href="#高级功能">高级功能</a><ul>
<li><a href="#文本翻译">文本翻译</a></li>
<li><a href="#敏感词过滤">敏感词过滤</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#游戏暂停与恢复">游戏暂停与恢复</a><ul>
<li><a href="#游戏暂停通知">游戏暂停通知</a></li>
<li><a href="#游戏恢复运行通知">游戏恢复运行通知</a></li>
</ul>
</li>
<li><a href="#用户举报和禁言">用户举报和禁言</a><ul>
<li><a href="#用户举报">用户举报</a></li>
<li><a href="#禁言查询">禁言查询</a></li>
</ul>
</li>
<li><a href="#公告管理">公告管理</a><ul>
<li><a href="#公告功能简述">公告功能简述</a></li>
<li><a href="#接收公告">接收公告</a></li>
<li><a href="#撤销公告">撤销公告</a></li>
<li><a href="#查询公告">查询公告</a></li>
</ul>
</li>
<li><a href="#地理位置">地理位置</a><ul>
<li><a href="#获取自己当前地理位置">获取自己当前地理位置</a></li>
<li><a href="#获取附近的人">获取附近的人</a></li>
<li><a href="#地理位置更新">地理位置更新</a></li>
<li><a href="#获取与指定用户距离">获取与指定用户距离</a></li>
</ul>
</li>
<li><a href="#关系链管理">关系链管理</a><ul>
<li><a href="#用户信息管理">用户信息管理</a><ul>
<li><a href="#通知用户资料变更">通知用户资料变更</a></li>
<li><a href="#设置用户信息">设置用户信息</a></li>
<li><a href="#查询用户基本资料">查询用户基本资料</a></li>
<li><a href="#设置用户头像">设置用户头像</a></li>
<li><a href="#切换用户状态">切换用户状态</a></li>
<li><a href="#设置好友添加权限">设置好友添加权限</a></li>
</ul>
</li>
<li><a href="#好友管理">好友管理</a><ul>
<li><a href="#查找好友">查找好友</a></li>
<li><a href="#添加好友">添加好友</a></li>
<li><a href="#处理好友请求">处理好友请求</a></li>
<li><a href="#删除好友">删除好友</a></li>
<li><a href="#拉黑好友">拉黑好友</a></li>
<li><a href="#查询好友列表">查询好友列表</a></li>
<li><a href="#查询好友请求列表">查询好友请求列表</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#服务器部署地区定义">服务器部署地区定义</a></li>
<li><a href="#错误码定义">错误码定义</a></li>
</ul>
</div>                  </div>                  <a href="#sidebar-close" id="sidebar-close" class="docs-nav-clear"></a>                  <div class="docs-content column col-9 col-sm-12">                    <section id="grid" class="container"><h1 id="im-sdk-for-android-使用指南">IM SDK for Android 使用指南<a class="anchor" aria-hidden="true" href="#im-sdk-for-android-使用指南">#</a></h1><h2 id="imsdk简介">IMSDK简介<a class="anchor" aria-hidden="true" href="#imsdk简介">#</a></h2><h3 id="1功能目标">1.功能目标<a class="anchor" aria-hidden="true" href="#1功能目标">#</a></h3><p>开发者在成功接入IMSDK后，无需部署任何服务器即可拥有双人及多人的即时通讯能力</p>
<h3 id="2sdk目录讲解">2.SDK目录讲解<a class="anchor" aria-hidden="true" href="#2sdk目录讲解">#</a></h3><ul>
<li><p>库目录</p>
<p><code>im_android\lib</code> 包含了必须的jar和so库，请完整导入Android工程的库目录。</p>
</li>
</ul>
<h3 id="3关键类及描述">3.关键类及描述<a class="anchor" aria-hidden="true" href="#3关键类及描述">#</a></h3><ul>
<li><p>YIMClient</p>
<p><code>IM SDK引擎服务类,单例模式。该类提供SDK操作的相关方法,例如:初始化，登录，登出，消息发送等</code></p>
</li>
<li><p>YIMMessage</p>
<p><code>IM消息类，包含消息体和消息基本属性：例如消息ID，消息类型，发送者ID，接收者ID等信息</code></p>
</li>
<li><p>IYIMMessageBodyBase</p>
<p><code>IM消息体基类</code></p>
</li>
<li><p>YIMMessageBodyAudio</p>
<p><code>IM语音消息类，包含语音消息除基本属性外的其它信息：例如语音时长，语音本地存放地址，语音文件大小等信息</code></p>
</li>
<li><p>YIMMessageBodyText</p>
<p><code>IM文本消息类，包含文本消息除基本属性外的其它信息：文本内容</code></p>
</li>
<li><p>YIMMessageBodyCustom</p>
<p><code>IM自定义消息类，包含自定义消息除基本属性外的其它信息：自定义消息内容</code></p>
</li>
<li><p>YIMMessageBodyFile</p>
<p><code>IM文件消息类，包含文件消息除基本属性外的其它信息：文件名，文件大小，文件类型，文件扩展信息等</code> </p>
</li>
<li><p>YIMMessageBodyGift</p>
<p><code>IM礼物消息类，包含礼物消息除基本属性外的其它信息：礼物ID，礼物数量，主播ID，礼物信息</code> </p>
</li>
<li><p>YIMConstInfo</p>
<p><code>IM 枚举定义</code>      </p>
</li>
</ul>
<h3 id="4消息类型定义">4.消息类型定义<a class="anchor" aria-hidden="true" href="#4消息类型定义">#</a></h3><pre><code class="lang-java">YIMConstInfo.MessageBodyType{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Unknow = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> TXT = <span class="hljs-number">1</span>;        <span class="hljs-comment">//文本消息</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> CustomMesssage = <span class="hljs-number">2</span>;  <span class="hljs-comment">//用户自定义消息</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Emoji = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Image = <span class="hljs-number">4</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Voice = <span class="hljs-number">5</span>;      <span class="hljs-comment">//语音消息</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Video = <span class="hljs-number">6</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> File = <span class="hljs-number">7</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Gift = <span class="hljs-number">8</span>;
}
</code></pre>
<h3 id="5聊天类型定义">5.聊天类型定义<a class="anchor" aria-hidden="true" href="#5聊天类型定义">#</a></h3><pre><code class="lang-java">YIMConstInfo.ChatType{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Unknow = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PrivateChat = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> RoomChat = <span class="hljs-number">2</span>;
}
</code></pre>
<h2 id="imsdk操作指引">IMSDK操作指引<a class="anchor" aria-hidden="true" href="#imsdk操作指引">#</a></h2><h3 id="申请使用游密im引擎sdk">申请使用游密IM引擎SDK<a class="anchor" aria-hidden="true" href="#申请使用游密im引擎sdk">#</a></h3><ul>
<li>首先请与游密商务联系，提供公司名称、游戏的名称、联系人电话、邮箱、 QQ等以申请IM引擎的使用权限。审批通过后会得到有效的AppKey和AppSecret，这些信息属于私密信息，请妥善保管</li>
</ul>
<h3 id="导入sdk">导入SDK<a class="anchor" aria-hidden="true" href="#导入sdk">#</a></h3><h4 id="1jar包导入">1.jar包导入<a class="anchor" aria-hidden="true" href="#1jar包导入">#</a></h4><ul>
<li>将jar包目录<code>im_android\lib</code>下的<code>yim-sdk.jar</code>，<code>yim.jar</code>，<code>Msc.jar</code>，<code>alisr.jar</code>，<code>usc.jar</code>，<code>Sunflower.jar</code>,<code>android-support-v4.jar</code>,<code>gson-2.3.1.jar</code> 包拷贝到Android工程的<code>project</code>-&gt;<code>libs</code>目录下</li>
</ul>
<h4 id="2so库导入">2.so库导入<a class="anchor" aria-hidden="true" href="#2so库导入">#</a></h4><ul>
<li>将so库目录<code>im_android\lib\armeabi</code>下的<code>libmsc.so</code>，<code>libnlscppsdk.so</code>，<code>libuscasr.so</code>，<code>libuuid.so</code>，<code>libyim.so</code>库拷贝到Android工程的<code>project</code>-&gt;<code>libs</code>-&gt;<code>armeabi</code>目录下。(如上选择所需架构下的so文件)</li>
</ul>
<h4 id="3android权限配置">3.Android权限配置<a class="anchor" aria-hidden="true" href="#3android权限配置">#</a></h4><ul>
<li>在AndroidManifest.xml中添加如下配置信息:</li>
</ul>
<pre><code class="lang-xml">  <span class="hljs-comment">&lt;!-- 添加到application节点内 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">application</span> <span class="hljs-attr">xxxx</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">receiver</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.youme.im.NetworkStatusReceiver"</span> <span class="hljs-attr">android:label</span>=<span class="hljs-string">"NetworkConnection"</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.net.conn.CONNECTIVITY_CHANGE"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- 添加到跟application平级 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.INTERNET"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.CHANGE_WIFI_STATE"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.CHANGE_NETWORK_STATE"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.READ_PHONE_STATE"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.RECORD_AUDIO"</span> /&gt;</span>
  <span class="hljs-comment">&lt;!-- 获取地理位置的权限，可选 --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;</span>
</code></pre>
<h3 id="import包名">import包名<a class="anchor" aria-hidden="true" href="#import包名">#</a></h3><p><code>import com.youme.imsdk.YIMClient;</code></p>
<h3 id="初始化sdk">初始化SDK<a class="anchor" aria-hidden="true" href="#初始化sdk">#</a></h3><ul>
<li><p>功能：初始化IM SDK</p>
</li>
<li><p>原型：</p>
</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> context Android App环境上下文
     * <span class="hljs-doctag">@param</span> appKey  在 www.youme.im 注册后获得的app标识
     * <span class="hljs-doctag">@param</span> secretKey  在 www.youme.im 注册后获得的app安全密钥
     * <span class="hljs-doctag">@param</span> serverZone 设置IM服务器区域，参考YIMService.ServerZone定义
     * <span class="hljs-doctag">@return</span>
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">init</span><span class="hljs-params">(Context context, String appKey, String secretKey,<span class="hljs-keyword">int</span> serverZone)</span></span>
</code></pre>
<ul>
<li><p>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a> </p>
</li>
<li><p>备注：该方法必须在调用其它SDK API之前调用</p>
</li>
</ul>
<h3 id="设置监听">设置监听<a class="anchor" aria-hidden="true" href="#设置监听">#</a></h3><p>IM引擎底层对于耗时操作都采用异步回调的方式，函数调用会立即返回，操作结果java层会同步回调。因此，用户必须实现相关接口并在初始化完成以后注册到YIMClient</p>
<h4 id="重连回调">重连回调<a class="anchor" aria-hidden="true" href="#重连回调">#</a></h4><ul>
<li>设置重连回调方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置重连回调
     * <span class="hljs-doctag">@param</span> callback 重连回调接口
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerReconnectCallback</span><span class="hljs-params">(YIMEventCallback.ReconnectCallback callback)</span></span>;
</code></pre>
<ul>
<li>重连回调接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ReconnectCallback</span></span>{
      <span class="hljs-comment">/**
       * 开始重连通知    
       */</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStartReconnect</span><span class="hljs-params">()</span></span>;

      <span class="hljs-comment">/**
       * 重连结果通知
       * <span class="hljs-doctag">@param</span> result 0-重连成功，1-重连失败，再次重连，2-重连失败
       */</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvReconnectResult</span><span class="hljs-params">(<span class="hljs-keyword">int</span> result)</span></span>;
}
</code></pre>
<h4 id="用户进出频道通知">用户进出频道通知<a class="anchor" aria-hidden="true" href="#用户进出频道通知">#</a></h4><ul>
<li>设置用户进出频道通知方法：YIMClient.registerUserJoinLeaveCallback</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 设置用户进出房间通知监听
     * <span class="hljs-doctag">@param</span> callback 登录登出回调接口
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerUserJoinLeaveCallback</span><span class="hljs-params">(YIMEventCallback.UserJoinLeaveChannelCallback callback)</span> </span>{
        mLoginListener = l;
    }
</code></pre>
<ul>
<li>用户进出频道接口定义：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserJoinLeaveChannelCallback</span> </span>{
        <span class="hljs-comment">/**
         * 功能：其他用户进出频道通知
         *
         * <span class="hljs-doctag">@param</span> eventType：频道事件类型，UserJoinRoom=0 UserLeaveRoom=1
         * <span class="hljs-doctag">@param</span> info：用户和频道信息
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">joinLeaveNotify</span><span class="hljs-params">(YIMClient.ChannelEventType eventType, UserChatRoom info)</span></span>;       
    }
</code></pre>
<h4 id="用户被踢通知">用户被踢通知<a class="anchor" aria-hidden="true" href="#用户被踢通知">#</a></h4><ul>
<li>设置用户被踢通知方法：YIMClient.registerKickOffCallback</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 设置用户被踢通知监听
     * <span class="hljs-doctag">@param</span> callback 用户被踢通知接口
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerKickOffCallback</span><span class="hljs-params">(YIMEventCallback.KickOffCallback callback)</span></span>
</code></pre>
<ul>
<li>用户被踢通知接口定义</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">KickOffCallback</span> </span>{
        <span class="hljs-comment">/**
         * 被踢下线通知
         *         
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onKickOff</span><span class="hljs-params">()</span></span>;       
    }
</code></pre>
<h4 id="消息回调">消息回调<a class="anchor" aria-hidden="true" href="#消息回调">#</a></h4><ul>
<li>设置消息处理回调方法：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 设置消息相关的回调
     * <span class="hljs-doctag">@param</span> callback 消息相关回调接口
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerMsgEventCallback</span><span class="hljs-params">(YIMEventCallback.MessageEventCallback callback)</span></span>
</code></pre>
<ul>
<li>消息处理回调接口定义：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageEventCallback</span> </span>{

        <span class="hljs-comment">/**
         * 功能：接收到用户发来的消息
         *
         * <span class="hljs-doctag">@param</span> message 消息内容结构体
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvMessage</span><span class="hljs-params">(YIMMessage message)</span></span>;


        <span class="hljs-comment">/**
         * 功能：仅语音识别回调（调用startRecordAudioMessage时开启仅需要语音识别结果才会有该回调，不会发送语音消息，停止语音后产生该回调）
         *
         * <span class="hljs-doctag">@param</span> errorcode 错误码
         * <span class="hljs-doctag">@param</span> requestID：请求ID（与startRecordAudioMessage输出参数requestID一致）
         * <span class="hljs-doctag">@param</span> text：语音识别结果
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onGetRecognizeSpeechText</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, <span class="hljs-keyword">long</span> requestID, String text)</span></span>;


        <span class="hljs-comment">/**
         * 功能：新消息通知（默认自动接收消息，只有调用setReceiveMessageSwitch设置为不自动接收消息，才会收到该回调），有新消息的时候会通知该回调，频道消息会通知消息来自哪个频道ID
         * <span class="hljs-doctag">@param</span> chatType：聊天类型
           * <span class="hljs-doctag">@param</span> targetID：频道ID
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRecvNewMessage</span><span class="hljs-params">( <span class="hljs-keyword">int</span> chatType, String targetID )</span></span>;

         <span class="hljs-comment">/*
         * 功能：录音音量变化回调, 频率:1s 约8次
         * @param volume：音量值(0到1)
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRecordVolume</span><span class="hljs-params">(<span class="hljs-keyword">float</span> volume)</span></span>;
    }
</code></pre>
<h4 id="自动下载语音消息回调">自动下载语音消息回调<a class="anchor" aria-hidden="true" href="#自动下载语音消息回调">#</a></h4><ul>
<li>设置自动下载语音消息回调方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置自动下载回调
     * <span class="hljs-doctag">@param</span> callback 自动下载回调接口
     */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerAutoDownloadCallback</span><span class="hljs-params">(YIMEventCallback.AutoDownloadVoiceCallback callback)</span></span>;
</code></pre>
<ul>
<li>自动下载语音消息回调接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AutoDownloadVoiceCallback</span></span>{
   <span class="hljs-comment">/**
    * 功能：自动下载回调
      * <span class="hljs-doctag">@param</span> errorcode：错误码
      * <span class="hljs-doctag">@param</span> message 消息
      * <span class="hljs-doctag">@param</span> savePath 保存路径
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAutoDownload</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMMessage message , String savePath)</span></span>;   

}
</code></pre>
<h4 id="地理位置信息回调">地理位置信息回调<a class="anchor" aria-hidden="true" href="#地理位置信息回调">#</a></h4><ul>
<li>设置地理位置回调方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置lbs信息回调
     * <span class="hljs-doctag">@param</span> callback lbs回调接口
     */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerGetLocationCallback</span><span class="hljs-params">(YIMEventCallback.GetLocationCallback callback)</span></span>;
</code></pre>
<ul>
<li>lbs回调接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">GetLocationCallback</span></span>{
   <span class="hljs-comment">/**
    * 功能：地理位置信息回调
      * <span class="hljs-doctag">@param</span> errorcode：错误码  
      * <span class="hljs-doctag">@param</span> location：地理位置信息
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onUpdateLocation</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, GeographyLocation location)</span></span>;   

}
</code></pre>
<h4 id="举报回调">举报回调<a class="anchor" aria-hidden="true" href="#举报回调">#</a></h4><ul>
<li>设置举报回调方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置举报结果回调
     * <span class="hljs-doctag">@param</span> callback 举报回调接口
     */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerAccusationCallback</span><span class="hljs-params">(YIMEventCallback.AccusationResultCallback callback)</span></span>;
</code></pre>
<ul>
<li>举报回调接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AccusationResultCallback</span></span>{
   <span class="hljs-comment">/**
    * 功能：举报结果通知
      * <span class="hljs-doctag">@param</span> result：举报处理结果  
      * <span class="hljs-doctag">@param</span> userID：用户ID
      * <span class="hljs-doctag">@param</span> accusationTime：举报时间戳
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAccusationResultNotify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> result, String userID, <span class="hljs-keyword">int</span> accusationTime)</span></span>;   

}
</code></pre>
<h4 id="公告回调">公告回调<a class="anchor" aria-hidden="true" href="#公告回调">#</a></h4><ul>
<li>设置公告回调方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置公告回调
     * <span class="hljs-doctag">@param</span> callback 公告回调接口
     */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerNoticeCallback</span><span class="hljs-params">(YIMEventCallback.NoticeCallback callback)</span></span>;
</code></pre>
<ul>
<li>公告回调接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">NoticeCallback</span></span>{
   <span class="hljs-comment">/**
    * 功能：接收公告通知
      * <span class="hljs-doctag">@param</span> notice：公告信息     
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvNotice</span><span class="hljs-params">(NoticeInfo notice)</span></span>;  

   <span class="hljs-comment">/*
     * 功能：撤销公告通知
     * @param noticeID：公告ID
     * @param channelID：频道ID
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCancelNotice</span><span class="hljs-params">(<span class="hljs-keyword">long</span> noticeID, String channelID)</span></span>; 

}
</code></pre>
<h4 id="用户信息变更通知">用户信息变更通知<a class="anchor" aria-hidden="true" href="#用户信息变更通知">#</a></h4><ul>
<li>设置用户信息变更监听方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置用户信息变更监听
     * <span class="hljs-doctag">@param</span> callback 用户信息变更接口
     */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerUserProfileChangeCallback</span><span class="hljs-params">(YIMEventCallback.UserProfileChangeCallback callback)</span></span>;
</code></pre>
<ul>
<li>用户信息变更接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserProfileChangeCallback</span></span>{
   <span class="hljs-comment">/**
    * 功能：用户信息变更通知
      * <span class="hljs-doctag">@param</span> userID：用户ID     
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onUserInfoChangeNotify</span><span class="hljs-params">(String userID)</span></span>;      
}
</code></pre>
<h4 id="好友相关通知">好友相关通知<a class="anchor" aria-hidden="true" href="#好友相关通知">#</a></h4><ul>
<li>设置好友相关通知方法：</li>
</ul>
<pre><code class="lang-java">     <span class="hljs-comment">/**
     * 设置好友相关通知监听
     * <span class="hljs-doctag">@param</span> callback 好友相关通知接口
     */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerFriendNotifyCallback</span><span class="hljs-params">(YIMEventCallback.FriendNotifyCallback callback)</span></span>;
</code></pre>
<ul>
<li>好友相关通知接口定义</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FriendNotifyCallback</span></span>{
   <span class="hljs-comment">/**
    * 功能：被邀请添加好友通知（需要验证）
      * <span class="hljs-doctag">@param</span> userID：用户ID
    * <span class="hljs-doctag">@param</span> comments：备注或验证信息    
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBeRequestAddFriendNotify</span><span class="hljs-params">(String userID, String comments)</span></span>;  

   <span class="hljs-comment">/*
    * 功能：被添加为好友通知（不需要验证）
    * @param userID：用户ID
    * @param comments：备注或验证信息
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBeAddFriendNotify</span><span class="hljs-params">(String userID, String comments)</span></span>; 

   <span class="hljs-comment">/*
    * 功能：请求添加好友结果通知(需要好友验证，待被请求方处理后回调)
    * @param userID：用户ID
    * @param comments：备注或验证信息
    * @param dealResult：处理结果    0：同意    1：拒绝
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRequestAddFriendResultNotify</span><span class="hljs-params">(String userID, String comments, <span class="hljs-keyword">int</span> dealResult)</span></span>;

   <span class="hljs-comment">/*
    * 功能：被好友删除通知
    * @param userID：用户ID
    */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBeDeleteFriendNotify</span><span class="hljs-params">(String userID)</span></span>;

}
</code></pre>
<h2 id="用户管理">用户管理<a class="anchor" aria-hidden="true" href="#用户管理">#</a></h2><h3 id="用户登录">用户登录<a class="anchor" aria-hidden="true" href="#用户登录">#</a></h3><ul>
<li><p>功能：指定用户ID登录IM系统,登录为异步过程，通过回调参数返回是否成功，成功后方能进行后续操作。</p>
</li>
<li><p>原型：</p>
</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> userId 用户ID，由调用者分配，不可为空字符串，只可由字母或数字或下划线组成，长度限制为255字节
     * <span class="hljs-doctag">@param</span> password 登录密码，不可为空字符串，如无特殊要求可以设置为固定字符串
     * <span class="hljs-doctag">@param</span> token 用户验证token，使用服务器token验证模式时使用，如不使用token验证传入:""，由restAPI获取token值
     * <span class="hljs-doctag">@param</span> callback 登录回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">login</span><span class="hljs-params">(String userId, String password, String token, <span class="hljs-keyword">final</span> YIMEventCallback.ResultCallback&lt;String&gt; callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.ResultCallback&lt;String&gt;</code>: </p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">String</span>&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> info 用户ID    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(String info)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> info 用户ID 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, String info)</span></span>;
}
</code></pre>
</li>
</ul>
<h3 id="用户登出">用户登出<a class="anchor" aria-hidden="true" href="#用户登出">#</a></h3><ul>
<li>功能：登出游密IM云服务器，这是一个异步操作，操作结果会通过回调参数返回</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> callback 登出回调    
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">logout</span><span class="hljs-params">(<span class="hljs-keyword">final</span> YIMEventCallback.OperationCallback callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.OperationCallback</code>: </p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OperationCallback</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode)</span></span>;
}
</code></pre>
</li>
</ul>
<h3 id="被用户踢出通知">被用户踢出通知<a class="anchor" aria-hidden="true" href="#被用户踢出通知">#</a></h3><p>同一个用户ID在多台设备上登录时，后登录的会把先登录的踢下线，收到onKickOff()通知。</p>
<ul>
<li>原型</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">KickOffCallback</span> </span>{
        <span class="hljs-comment">/**
         * 被踢下线通知
         *         
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onKickOff</span><span class="hljs-params">()</span></span>;       
    }
</code></pre>
<h3 id="用户信息">用户信息<a class="anchor" aria-hidden="true" href="#用户信息">#</a></h3><h4 id="设置用户的详细信息">设置用户的详细信息<a class="anchor" aria-hidden="true" href="#设置用户的详细信息">#</a></h4><ul>
<li>功能：设置用户信息后，在游密消息管理后台才能看到消息发送者的详细信息。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> userInfo 用户详细信息，请设置YIMExtraUserInfo的以下属性：
     *   `nickName`：用户昵称
     *   `serverAreaID`：游戏服ID
     *   `serverArea`：游戏服名称
     *   `locationID`：游戏大区ID
     *   `location`：游戏大区名
     *   `Platform`：平台名称，比如：应用宝
     *   `PlatformID`：平台ID
     *   `level`：角色等级
     *   `vipLevel`：玩家VIP等级
     *   `extra`：其它自定义扩展信息，建义用json字符串
     *   `userID`：用户ID
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setUserInfo</span><span class="hljs-params">(YIMExtraUserInfo userInfo)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h4 id="获取指定用户的详细信息">获取指定用户的详细信息<a class="anchor" aria-hidden="true" href="#获取指定用户的详细信息">#</a></h4><p>这是一个异步操作，操作结果会通过回调参数返回。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> userID 用户ID
     * <span class="hljs-doctag">@param</span> callback 查询用户信息回调
     * 
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserInfo</span><span class="hljs-params">(String userID, YIMEventCallback.ResultCallback&lt;YIMExtraUserInfo&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<p><code>YIMEventCallback.ResultCallback&lt;YIMExtraUserInfo&gt;</code>: </p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">YIMExtraUserInfo</span>&gt; </span>{
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> info 用户详细信息    
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(YIMExtraUserInfo info)</span></span>;

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> errorcode 错误码   
   * <span class="hljs-doctag">@param</span> info 用户详细信息 
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMExtraUserInfo info)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>YIMExtraUserInfo</code>类定义参考<a href="#设置用户的详细信息">设置用户的详细信息</a>接口参数。</li>
</ul>
<h4 id="查询用户在线状态">查询用户在线状态<a class="anchor" aria-hidden="true" href="#查询用户在线状态">#</a></h4><p>这是一个异步操作，操作结果会通过回调参数返回。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> userID 用户ID
     * <span class="hljs-doctag">@param</span> callback 查询结果回调
     * 
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">queryUserStatus</span><span class="hljs-params">(String userID, YIMEventCallback.ResultCallback&lt;UserStatusInfo&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<p><code>YIMEventCallback.ResultCallback&lt;UserStatusInfo&gt;</code>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">UserStatusInfo</span>&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> statusInfo 用户状态信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(UserStatusInfo statusInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> statusInfo 用户状态信息 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, UserStatusInfo statusInfo)</span></span>;    
}
</code></pre>
<ul>
<li>备注：<br><code>UserStatusInfo</code>类成员变量如下：<br><code>userID</code>: 用户ID，String类型<br><code>status</code>: 用户状态，Integer类型,0-在线，1-离线，2-未知<br><code>isOnline()</code>: 是否在线，返回boolean类型</li>
</ul>
<h2 id="频道管理">频道管理<a class="anchor" aria-hidden="true" href="#频道管理">#</a></h2><h3 id="加入频道">加入频道<a class="anchor" aria-hidden="true" href="#加入频道">#</a></h3><ul>
<li>功能：加入聊天频道进行群组聊天，这是一个异步操作，操作结果会通过回调参数返回。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 加入聊天频道
     * <span class="hljs-doctag">@param</span> roomId 频道ID，由调用者定义，如果频道不存在则后台自动创建，仅支持数字、字母、下划线组成的字符串，区分大小写，长度限制为255字节
     * <span class="hljs-doctag">@param</span> callback 加入频道回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">joinChatRoom</span><span class="hljs-params">(String roomId, <span class="hljs-keyword">final</span> YIMEventCallback.ResultCallback&lt;ChatRoom&gt; callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.ResultCallback&lt;ChatRoom&gt;</code>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">ChatRoom</span>&gt; </span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> roomInfo 频道信息    
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ChatRoom roomInfo)</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码   
     * <span class="hljs-doctag">@param</span> roomInfo 频道信息 
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, ChatRoom roomInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>ChatRoom</code>类成员变量如下：<br><code>groupId</code>: 频道ID，String类型</p>
</li>
</ul>
<h3 id="离开频道">离开频道<a class="anchor" aria-hidden="true" href="#离开频道">#</a></h3><ul>
<li>功能：退出聊天频道，这是一个异步操作，操作结果会通过回调参数返回</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 退出聊天频道
     * <span class="hljs-doctag">@param</span> roomId 频道ID
     * <span class="hljs-doctag">@param</span> callback 退出频道回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">leaveChatRoom</span><span class="hljs-params">(String roomId,YIMEventCallback.ResultCallback&lt;ChatRoom&gt; callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.ResultCallback&lt;ChatRoom&gt;</code>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">ChatRoom</span>&gt; </span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> roomInfo 频道信息    
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ChatRoom roomInfo)</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码   
     * <span class="hljs-doctag">@param</span> roomInfo 频道信息 
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, ChatRoom roomInfo)</span></span>;   
}
</code></pre>
</li>
<li><p>备注：<br><code>ChatRoom</code>类成员变量如下：<br><code>groupId</code>: 频道ID，String类型    </p>
</li>
</ul>
<h3 id="离开所有频道">离开所有频道<a class="anchor" aria-hidden="true" href="#离开所有频道">#</a></h3><ul>
<li>功能：离开所有频道，这是一个异步操作，操作结果会通过回调参数返回</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 离开所有频道    
     * <span class="hljs-doctag">@param</span> callback 离开所有频道回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">leaveAllChatRooms</span><span class="hljs-params">(YIMEventCallback.OperationCallback callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.OperationCallback</code>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OperationCallback</span> </span>{

     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码      
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode)</span></span>;
}
</code></pre>
</li>
</ul>
<h3 id="用户进出频道通知">用户进出频道通知<a class="anchor" aria-hidden="true" href="#用户进出频道通知">#</a></h3><p>此功能默认不开启，需要的请联系我们开启此服务。联系我们，可以通过专属游密支持群或者技术支持的大群。</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserJoinLeaveChannelCallback</span> </span>{
        <span class="hljs-comment">/**
         * 功能：其他用户进出频道通知
         *
         * <span class="hljs-doctag">@param</span> eventType：频道事件类型，UserJoinRoom=0 UserLeaveRoom=1
         * <span class="hljs-doctag">@param</span> info：用户和频道信息
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">joinLeaveNotify</span><span class="hljs-params">(YIMClient.ChannelEventType eventType, UserChatRoom info)</span></span>;       
}
</code></pre>
<h3 id="获取房间成员数量">获取房间成员数量<a class="anchor" aria-hidden="true" href="#获取房间成员数量">#</a></h3><p>这是一个异步操作，操作结果会通过回调参数返回。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">  <span class="hljs-comment">/* 
    * 功能：获取房间成员数量
    * @param roomId：频道ID(已成功加入此频道才能获取该频道的人数)
    * @param callback 获取频道成员数量回调
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getRoomMemberCount</span><span class="hljs-params">(String roomId, YIMEventCallback.ResultCallback&lt;RoomInfo&gt; callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.ResultCallback&lt;RoomInfo&gt;</code>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">RoomInfo</span>&gt; </span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> roomInfo 频道及成员信息    
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(RoomInfo roomInfo)</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码   
     * <span class="hljs-doctag">@param</span> roomInfo 频道及成员信息 
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, RoomInfo roomInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>RoomInfo</code>类成员变量如下：<br><code>roomID</code>: 频道ID，String类型<br><code>memberCount</code>: 频道内成员数量，int类型</p>
</li>
</ul>
<h2 id="消息管理">消息管理<a class="anchor" aria-hidden="true" href="#消息管理">#</a></h2><p>游密IM可以进行多种消息类型的交互，比如文本，自定义，表情，图片，语音，文件，礼物等。</p>
<h3 id="接收消息">接收消息<a class="anchor" aria-hidden="true" href="#接收消息">#</a></h3><ul>
<li>功能：消息接收采用异步回调的方式，在MessageEventCallback接口中的onRecvMessage(YIMMessage message)中处理。</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageEventCallback</span> </span>{
    <span class="hljs-comment">/**
    * 接收到用户发来的消息
    *
    * <span class="hljs-doctag">@param</span> message 消息内容结构体
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvMessage</span><span class="hljs-params">(YIMMessage message)</span></span>;
}
</code></pre>
<ul>
<li><p>备注：<br><code>YIMMessage</code> 消息基类成员方法如下：<br><code>getSenderID()</code>： 返回消息发送者ID，String型<br><code>getReceiveID()</code>： 返回消息接收者ID，String型<br><code>getChatType()</code>：返回聊天类型，私聊/频道聊天，int型<br><code>getMessageID()</code>： 返回消息ID，long型<br><code>getMessageType()</code>： 返回消息类型，0-未知类型，1-文本消息，2-自定义消息，3-表情，4-图片，5-语音，6-视频，7-文件，8-礼物<br><code>getCreateTime()</code>： 消息收发时间<br><code>getIsRead()</code>：返回消息是否已读，boolean型<br><code>getDistance()</code>：若是附近频道的消息，返回该消息用户与自己的地理位置距离<br><code>getMessageBody()</code>：返回消息体，IYIMMessageBodyBase型</p>
<p><code>YIMMessageBodyText</code>实现<code>IYIMMessageBodyBase</code>接口，类成员方法如下：<br><code>getMessageContent()</code>： 返回文本消息内容，String型<br><code>getAttachParam()</code>： 返回发送文本附加信息内容，String型</p>
<p><code>YIMMessageBodyCustom</code>实现<code>IYIMMessageBodyBase</code>接口，类成员方法如下：<br><code>getMessageContent()</code>： 返回自定义消息内容，byte[]型</p>
<p><code>YIMMessageBodyFile</code>实现<code>IYIMMessageBodyBase</code>接口，类成员方法如下：<br><code>getFileName()</code>： 返回文件名，String型<br><code>getFileType()</code>： 返回文件类型，int类型，0-其它，1-音频（语音），2-图片，3-视频<br><code>getFileSize()</code>： 返回文件大小，int型<br><code>getFileExtension()</code>： 返回文件扩展信息，String型<br><code>getExtParam()</code>： 返回附加信息，String型</p>
<p><code>YIMMessageBodyGift</code>实现<code>IYIMMessageBodyBase</code>接口，类成员方法如下：<br><code>getAnchor()</code>： 返回主播ID，String型<br><code>getGiftID()</code>： 返回礼物ID，Integer型<br><code>getGiftCount()</code>： 返回礼物数量，Integer型<br><code>getExtParam()</code>： 返回附加参数，YIMExtraGifParam型</p>
<p><code>YIMMessageBodyAudio</code>实现<code>IYIMMessageBodyBase</code>接口，类成员方法如下：<br><code>getText()</code>： 若使用的是语音转文字录音，返回值为语音识别的文本内容，否则是空，String型<br><code>getAudioTime()</code>： 返回语音时长（单位：秒），int型<br><code>getParam()</code>： 返回发送语音时的附加参数，String型</p>
</li>
<li><p>示例：</p>
</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvMessage</span><span class="hljs-params">(YIMMessage message)</span></span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">null</span> == message)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">int</span> msgType = message.getMessageType();
    <span class="hljs-keyword">if</span> (YIMConstInfo.MessageBodyType.TXT == msgType){
        showRecv(<span class="hljs-string">"接收到一条文本消息： "</span> + ((YIMMessageBodyText)message.getMessageBody()).getMessageContent());
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (YIMConstInfo.MessageBodyType.Voice == msgType){
        YIMMessageBodyAudio audioMessage = (YIMMessageBodyAudio)message.getMessageBody();
        <span class="hljs-keyword">int</span> audioDuration = audioMessage.getAudioTime();
        string param = audioMessage.getParam();<span class="hljs-comment">//自定义附加参数</span>
        string txt = audioMessage.getText();<span class="hljs-comment">//语音转文字识别结果</span>
        mRecvAudioMsgId = message.getMessageID();
        <span class="hljs-comment">//下载语音文件</span>
        YIMClient.getInstance().downloadAudioMessage(mRecvAudioMsgId, <span class="hljs-string">"/sdcard/xxx/xxx.wav"</span>, <span class="hljs-keyword">new</span> YIMEventCallback.DownloadFileCallback() {
             <span class="hljs-meta">@Override</span>
             <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDownload</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMMessage message, String savePath)</span> </span>{
              showRecv(<span class="hljs-string">"download callback，err: "</span>+errorcode+<span class="hljs-string">", senderID: "</span>+message.getSenderID()+<span class="hljs-string">", savePath: "</span>+savePath);
          });
    }
}
</code></pre>
<h3 id="发送文本消息">发送文本消息<a class="anchor" aria-hidden="true" href="#发送文本消息">#</a></h3><ul>
<li><p>功能：发送文本消息到指定接收者，这是一个异步操作，操作结果会通过回调参数返回</p>
</li>
<li><p>原型：</p>
</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 发送文本消息
     * <span class="hljs-doctag">@param</span> recvId 消息接收者ID
     * <span class="hljs-doctag">@param</span> chatType 聊天类型，详见ChatType
     * <span class="hljs-doctag">@param</span> msgContent 消息内容
     * <span class="hljs-doctag">@param</span> attachParam 附加信息
     * <span class="hljs-doctag">@param</span> callback 发送文本消息回调
     * 
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendTextMessage</span><span class="hljs-params">(String recvId, <span class="hljs-keyword">int</span> chatType, String msgContent, String attachParam, YIMEventCallback.ResultCallback&lt;SendMessage&gt; callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<p><code>YIMEventCallback.ResultCallback&lt;SendMessage&gt;</code>：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">SendMessage</span>&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(SendMessage msgInfo)</span></span>;
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, SendMessage msgInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>SendMessage</code>类成员方法如下：<br><code>getRequestId()</code>: 消息序列号，用于校验一条消息发送成功与否的标识，long类型<br><code>getSendTime()</code>: 消息发送时间，int类型<br><code>getIsForbidRoom()</code>: 若发送的是频道消息，显示在此频道是否被禁言，true-被禁言，false-未被禁言，boolean类型<br><code>getReasonType()</code>: 若在频道被禁言，禁言原因类型，0-未知，1-发广告，2-侮辱，3-政治敏感，4-恐怖主义，5-反动，6-色情，7-其它，int类型<br><code>getEndTime()</code>: 若在频道被禁言，禁言结束时间，long类型</li>
</ul>
<h3 id="群发文本消息">群发文本消息<a class="anchor" aria-hidden="true" href="#群发文本消息">#</a></h3><ul>
<li>功能：用于群发文本消息的接口，<strong>每次不要超过200个用户</strong>。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> recvLists 接受消息的用户ID列表
     * <span class="hljs-doctag">@param</span> strText 文本消息内容
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">multiSendTextMessage</span><span class="hljs-params">(List&lt;String&gt; recvLists,String strText)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h3 id="发送礼物消息">发送礼物消息<a class="anchor" aria-hidden="true" href="#发送礼物消息">#</a></h3><ul>
<li>功能：给主播发送礼物消息的接口，支持在游密主播后台查看礼物消息信息和统计信息。客户端还是通过<code>OnRecvMessage</code>接收消息。<code>giftID</code>为<code>0</code>可以表示普通的主播留言。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> anchorId 游密后台设置的对应的主播游戏id
     * <span class="hljs-doctag">@param</span> channel 主播频道ID，通过`JoinChatRoom`进入频道的用户可以接收到消息。
     * <span class="hljs-doctag">@param</span> giftID 礼物物品ID，特别的是`0`表示只是留言
     * <span class="hljs-doctag">@param</span> giftCount 礼物物品数量
     * <span class="hljs-doctag">@param</span> extParam 扩展内容，参考YIMExtraGifParam类熟悉说明
     * <span class="hljs-doctag">@param</span> callback 发送礼物消息回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendGift</span><span class="hljs-params">(String anchorId,String channel,<span class="hljs-keyword">int</span> giftID,<span class="hljs-keyword">int</span> giftCount,YIMExtraGifParam extParam, YIMEventCallback.ResultCallback&lt;SendMessage&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<p><code>YIMEventCallback.ResultCallback&lt;SendMessage&gt;</code>：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">SendMessage</span>&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(SendMessage msgInfo)</span></span>;
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, SendMessage msgInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>SendMessage</code>类成员变量如下：<br><code>getRequestId()</code>: 消息序列号，用于校验一条消息发送成功与否的标识，long类型<br><code>getSendTime()</code>: 消息发送时间，int类型<br><code>getIsForbidRoom()</code>: 若发送的是频道消息，显示在此频道是否被禁言，true-被禁言，false-未被禁言，boolean类型<br><code>getReasonType()</code>: 若在频道被禁言，禁言原因类型，0-未知，1-发广告，2-侮辱，3-政治敏感，4-恐怖主义，5-反动，6-色情，7-其它，int类型<br><code>getEndTime()</code>: 若在频道被禁言，禁言结束时间，long类型</li>
</ul>
<h3 id="发送自定义消息">发送自定义消息<a class="anchor" aria-hidden="true" href="#发送自定义消息">#</a></h3><ul>
<li>功能：发送用户自定义消息，自定义数据是二进制数据。异步返回结果通过回调参数返回。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> recvId 接收者ID（用户ID或者频道ID）
     * <span class="hljs-doctag">@param</span> chatType 聊天类型
     * <span class="hljs-doctag">@param</span> customMessage 聊天内容
     * <span class="hljs-doctag">@param</span> bufferLen  二进制数据数组长度
     * <span class="hljs-doctag">@param</span> callback 发送二进制消息回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendCustomMessage</span><span class="hljs-params">(String recvId, <span class="hljs-keyword">int</span> chatType, <span class="hljs-keyword">byte</span>[] customMessage, <span class="hljs-keyword">int</span> bufferLen, YIMEventCallback.ResultCallback&lt;SendMessage&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<p><code>YIMEventCallback.ResultCallback&lt;SendMessage&gt;</code>：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">SendMessage</span>&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(SendMessage msgInfo)</span></span>;
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, SendMessage msgInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>SendMessage</code>类成员变量如下：<br><code>getRequestId()</code>: 消息序列号，用于校验一条消息发送成功与否的标识，long类型<br><code>getSendTime()</code>: 消息发送时间，int类型<br><code>getIsForbidRoom()</code>: 若发送的是频道消息，显示在此频道是否被禁言，true-被禁言，false-未被禁言，boolean类型<br><code>getReasonType()</code>: 若在频道被禁言，禁言原因类型，0-未知，1-发广告，2-侮辱，3-政治敏感，4-恐怖主义，5-反动，6-色情，7-其它，int类型<br><code>getEndTime()</code>: 若在频道被禁言，禁言结束时间，long类型</li>
</ul>
<h3 id="发送文件消息">发送文件消息<a class="anchor" aria-hidden="true" href="#发送文件消息">#</a></h3><h4 id="发送文件">发送文件<a class="anchor" aria-hidden="true" href="#发送文件">#</a></h4><ul>
<li>功能：发送文件类型消息</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> recvId 接收者（用户ID或者频道ID）
     * <span class="hljs-doctag">@param</span> chatType 聊天类型
     * <span class="hljs-doctag">@param</span> filePath 要发送的文件绝对路径，包括文件名
     * <span class="hljs-doctag">@param</span> extParam 扩展内容，格式自己定义，自己解析
     * <span class="hljs-doctag">@param</span> fileType 文件类型，0-其它，1-音频，2-图片，3-视频
     * <span class="hljs-doctag">@param</span> callback 发送文件回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendFile</span><span class="hljs-params">(String recvId, <span class="hljs-keyword">int</span> chatType,String filePath,String extParam, <span class="hljs-keyword">int</span> fileType, YIMEventCallback.ResultCallback&lt;SendMessage&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<p><code>YIMEventCallback.ResultCallback&lt;SendMessage&gt;</code>：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">SendMessage</span>&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(SendMessage msgInfo)</span></span>;
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 发送消息回调信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, SendMessage msgInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>SendMessage</code>类成员变量如下：<br><code>getRequestId()</code>: 消息序列号，用于校验一条消息发送成功与否的标识，long类型<br><code>getSendTime()</code>: 消息发送时间，int类型<br><code>getIsForbidRoom()</code>: 若发送的是频道消息，显示在此频道是否被禁言，true-被禁言，false-未被禁言，boolean类型<br><code>getReasonType()</code>: 若在频道被禁言，禁言原因类型，0-未知，1-发广告，2-侮辱，3-政治敏感，4-恐怖主义，5-反动，6-色情，7-其它，int类型<br><code>getEndTime()</code>: 若在频道被禁言，禁言结束时间，long类型</li>
</ul>
<h4 id="下载文件">下载文件<a class="anchor" aria-hidden="true" href="#下载文件">#</a></h4><ul>
<li>功能：下载文件消息的文件内容,这是一个异步操作，操作结果会通过回调接口返回</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    * 下载文件
    * <span class="hljs-doctag">@param</span> serial 消息ID
    * <span class="hljs-doctag">@param</span> savePath 文件保存路径（带文件名的全路径），如果目录不存在，SDK会自动创建，必须保证该路径有可写权限
    * <span class="hljs-doctag">@param</span> callback 下载文件回调
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">downloadFile</span><span class="hljs-params">(<span class="hljs-keyword">long</span> serial, String savePath, YIMEventCallback.DownloadFileCallback callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">DownloadFileCallback</span> </span>{
    <span class="hljs-comment">/**
     * 下载回调
     *
     * <span class="hljs-doctag">@param</span> errorcode 错误码
     * <span class="hljs-doctag">@param</span> message 消息
     * <span class="hljs-doctag">@param</span> savePath  文件存放路径
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDownload</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMMessage message , String savePath)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>YIMMessage</code>类详细定义查看<a href="#接收消息">接收消息</a>备注</p>
</li>
</ul>
<h3 id="语音消息管理">语音消息管理<a class="anchor" aria-hidden="true" href="#语音消息管理">#</a></h3><h4 id="设置自动下载语音消息">设置自动下载语音消息<a class="anchor" aria-hidden="true" href="#设置自动下载语音消息">#</a></h4><ul>
<li><p>功能：设置是否自动下载语音消息。<br>setDownloadAudioMessageSwitch()在初始化之后，启动语音之前调用;若设置了自动下载语音消息，不需再调用downloadAudioMessage()接口，收到语音消息时会自动下载，自动下载完成也会收到AutoDownloadVoiceCallback接口对应的onAutoDownload()回调。</p>
</li>
<li><p>原型：</p>
</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> download `true`：自动下载语音消息，`false`：不自动下载语音消息(默认)。
     * <span class="hljs-doctag">@return</span> 错误码，详细描述见错误码定义。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setDownloadAudioMessageSwitch</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> download)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h4 id="设置语音识别的语言">设置语音识别的语言<a class="anchor" aria-hidden="true" href="#设置语音识别的语言">#</a></h4><p><code>startRecordAudioMessage</code>提供语音识别功能，将语音识别为文字，默认输入语音为普通话，识别文字为简体中文，可通过<code>setSpeechRecognizeLanguage</code>函数设置语言；若需要识别为繁体中文，需要联系我们配置此服务。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 设置语音识别语言
 * <span class="hljs-doctag">@param</span> language：语言
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setSpeechRecognizeLanguage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> language)</span></span>
</code></pre>
<ul>
<li>参数：<br><code>language</code>：语言（0-普通话 1-粤语 2-四川话 3-河南话 4-英语 5-繁体中文）</li>
</ul>
<h4 id="发送语音消息">发送语音消息<a class="anchor" aria-hidden="true" href="#发送语音消息">#</a></h4><h5 id="开始录音">开始录音<a class="anchor" aria-hidden="true" href="#开始录音">#</a></h5><ul>
<li>功能：开始录音</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 开始录音,带语音转文字识别
     * <span class="hljs-doctag">@param</span> recvId 消息接收者ID，私聊传入userid，频道聊天传入roomid
     * <span class="hljs-doctag">@param</span> chatType 聊天类型，详见ChatType，1是私聊，2是频道聊天
     * <span class="hljs-doctag">@param</span> extraText 语音消息附带信息
     * <span class="hljs-doctag">@param</span> recognizeText 是否带文字识别
     * <span class="hljs-doctag">@param</span> IsOpenOnlyRecognizeText 是否开启仅识别语音文本，不发送语音消息
     * <span class="hljs-doctag">@return</span> YIMClient.MessageSendStatus
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> MessageSendStatus <span class="hljs-title">startRecordAudioMessage</span><span class="hljs-params">(String recvId, <span class="hljs-keyword">int</span> chatType, String extraText, <span class="hljs-keyword">boolean</span> recognizeText, <span class="hljs-keyword">boolean</span> IsOpenOnlyRecognizeText)</span></span>;
</code></pre>
<ul>
<li>返回：<br>启动录音是否成功，MessageSendStatus包含错误码和消息ID</li>
</ul>
<h5 id="取消录音">取消录音<a class="anchor" aria-hidden="true" href="#取消录音">#</a></h5><ul>
<li>功能：取消录音</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 取消录音
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">cancleAudioMessage</span><span class="hljs-params">()</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h5 id="停止录音并发送">停止录音并发送<a class="anchor" aria-hidden="true" href="#停止录音并发送">#</a></h5><ul>
<li>功能：停止录音并发送出去,这是一个异步操作，操作结果会通过回调参数返回</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 停止录音并发送
     * <span class="hljs-doctag">@param</span> callback 发送语音消息回调
     * 
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopAndSendAudioMessage</span><span class="hljs-params">(YIMEventCallback.AudioMsgEventCallback callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AudioMsgEventCallback</span> </span>{
   <span class="hljs-comment">/**
    * 录音结束，开始发送录音的通知，这个时候已经可以拿到语音文件进行播放
    *
    * <span class="hljs-doctag">@param</span> requestID 请求ID（与startRecordAudioMessage输出参数requestID一致）
    * <span class="hljs-doctag">@param</span> errorcode 错误码
    * <span class="hljs-doctag">@param</span> strText  语音转文字识别的文本内容，如果带语音转文字参数为false，该字段为空字符串
    * <span class="hljs-doctag">@param</span> strAudioPath  录音生成的wav文件的本地完整路径
    * <span class="hljs-doctag">@param</span> audioTime 录音时长(单位秒) 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStartSendAudioMessage</span><span class="hljs-params">(<span class="hljs-keyword">long</span> requestID, <span class="hljs-keyword">int</span> errorcode, String strText, String strAudioPath, <span class="hljs-keyword">int</span> audioTime)</span></span>;

    <span class="hljs-comment">/**
    * 自己的语音消息发送成功或者失败的通知
    * 
    * <span class="hljs-doctag">@param</span> errorcode 错误码
    * <span class="hljs-doctag">@param</span> voiceMsgInfo ：语音信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSendAudioMessageStatus</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, SendVoiceMsgInfo voiceMsgInfo)</span></span>;
}
</code></pre>
<ul>
<li><p>备注：<br><code>SendVoiceMsgInfo</code>类成员方法如下：<br><code>getRequestId()</code>: 消息序列号，用于校验一条消息发送成功与否的标识，long类型<br><code>getText()</code>: 语音转文字识别的文本内容，如果没有用带语音转文字的接口，该字段为空字符串，String类型<br><code>getLocalPath()</code>: 录音生成的wav文件的本地完整路径，String类型<br><code>getDuration()</code>: 录音时长(单位秒) ，int类型<br><code>getSendTime()</code>: 语音发送时间，int类型<br><code>getIsForbidRoom()</code>: 若发送的是频道消息，表示在此频道是否被禁言，true-被禁言，false-未被禁言，boolean类型<br><code>getReasonType()</code>: 禁言原因类型，0-未知，1-发广告，2-侮辱，3-政治敏感，4-恐怖主义，5-反动，6-色情，7-其它，int类型<br><code>getEndTime()</code>: 若在频道被禁言，禁言结束时间，long类型</p>
<p><strong><em>如果只识别语音文本，不发送语音消息，收到以下回调：</em></strong></p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageEventCallback</span> </span>{
   <span class="hljs-comment">/**
    * 语音的识别文本回调
    *
    * <span class="hljs-doctag">@param</span> errorcode 错误码
    * <span class="hljs-doctag">@param</span> requestID 消息ID
    * <span class="hljs-doctag">@param</span> text 返回的语音识别文本    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onGetRecognizeSpeechText</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, <span class="hljs-keyword">long</span> requestID, String text)</span></span>;
}
</code></pre>
<h4 id="接收语音消息">接收语音消息<a class="anchor" aria-hidden="true" href="#接收语音消息">#</a></h4><p>接收消息接口参考收消息通过getMessageType()分拣出语音消息类型：MessageBodyType.Voice，用getMessageID()获得消息ID。然后调用函数downloadAudioMessage下载语音消息，下载完成后调用方播放。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 下载语音文件
     * <span class="hljs-doctag">@param</span> serial 语音消息ID
     * <span class="hljs-doctag">@param</span> savePath 文件保存路径（带文件名的全路径），如果目录不存在，SDK会自动创建，必须保证该路径有可写权限
     * <span class="hljs-doctag">@param</span> callback 下载语音文件回调, 若设置了自动下载回调监听，自动下载回调接口也会收到回调信息
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">downloadAudioMessage</span><span class="hljs-params">(<span class="hljs-keyword">long</span> serial, String savePath, YIMEventCallback.DownloadFileCallback callback)</span></span>
</code></pre>
<ul>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">DownloadFileCallback</span> </span>{
   <span class="hljs-comment">/**
    * 下载回调
    *
    * <span class="hljs-doctag">@param</span> errorcode 错误码
    * <span class="hljs-doctag">@param</span> message 消息
    * <span class="hljs-doctag">@param</span> savePath  文件存放路径
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDownload</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMMessage message , String savePath)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>YIMMessage</code>类详细定义查看<a href="#接收消息">接收消息</a>备注</p>
</li>
</ul>
<h4 id="语音播放">语音播放<a class="anchor" aria-hidden="true" href="#语音播放">#</a></h4><h5 id="播放语音">播放语音<a class="anchor" aria-hidden="true" href="#播放语音">#</a></h5><ul>
<li>功能： 可以使用SDK内置的播放接口进行播放，目前只支持WAV格式。</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * <span class="hljs-doctag">@param</span> audioPath 语音文件的完整路径。
    * <span class="hljs-doctag">@param</span> callback 播放语音回调
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">startPlayAudio</span><span class="hljs-params">(String audioPath, YIMEventCallback.ResultCallback&lt;String&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">String</span>&gt;</span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> audioPath 播放的音频文件路径    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(String audioPath)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> audioPath 播放的音频文件路径 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, String audioPath)</span></span>;
}
</code></pre>
</li>
</ul>
<h5 id="停止语音播放">停止语音播放<a class="anchor" aria-hidden="true" href="#停止语音播放">#</a></h5><ul>
<li>功能：停止播放当前语音。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> 错误码，详细描述见错误码定义
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">stopPlayAudio</span><span class="hljs-params">()</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h5 id="设置语音播放音量">设置语音播放音量<a class="anchor" aria-hidden="true" href="#设置语音播放音量">#</a></h5><ul>
<li>功能：设置语音音量。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> volume 音量值，取值范围`0f` - `1.0f`，默认值为 `1.0f`。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setVolume</span><span class="hljs-params">(<span class="hljs-keyword">float</span> volume)</span></span>
</code></pre>
<h4 id="录音缓存">录音缓存<a class="anchor" aria-hidden="true" href="#录音缓存">#</a></h4><h5 id="设置录音缓存目录">设置录音缓存目录<a class="anchor" aria-hidden="true" href="#设置录音缓存目录">#</a></h5><ul>
<li>功能：设置录音时用于保存录音文件的缓存目录，如果没有设置，SDK会在APP默认缓存路径下创建一个文件夹用于保存音频文件。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 下载语音文件
     * <span class="hljs-doctag">@param</span> path 缓存目录绝对路径，如果目录不存在，SDK会自动创建。
     * 
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAudioCachePath</span><span class="hljs-params">(String path)</span></span>;
</code></pre>
<h5 id="获取当前设置的录音缓存目录">获取当前设置的录音缓存目录<a class="anchor" aria-hidden="true" href="#获取当前设置的录音缓存目录">#</a></h5><ul>
<li>功能：获取当前设置的录音缓存目录。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@return</span> 返回当前设置的录音缓存目录的完整路径。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAudioCachePath</span><span class="hljs-params">()</span></span>
</code></pre>
<ul>
<li>返回：<br>返回当前设置的录音缓存目录的完整路径。</li>
</ul>
<h5 id="清理录音缓存目录">清理录音缓存目录<a class="anchor" aria-hidden="true" href="#清理录音缓存目录">#</a></h5><ul>
<li>功能：清空当前设置的录音缓存目录。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@return</span> `true`：表示清理成功，`false`：表示清理操作失败。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">clearAudioCachePath</span><span class="hljs-params">()</span></span>
</code></pre>
<ul>
<li>返回：<br><code>true</code>：表示清理成功，<code>false</code>：表示清理操作失败。</li>
</ul>
<h4 id="设置下载保存目录">设置下载保存目录<a class="anchor" aria-hidden="true" href="#设置下载保存目录">#</a></h4><ul>
<li>功能：设置语音消息或者文件的保存目录<br>下载保存目录是downloadAudioMessage/downloadFile的默认下载目录，对下载语音消息和文件均适用；设置下载保存目录在初始化之后，启动语音之前调用，若设置了下载保存目录，调用downloadAudioMessage()/downloadFile()时其中的savePath参数可以为空字符串。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 设置语音消息或者文件的保存目录
     * <span class="hljs-doctag">@param</span> path 下载目录路径，必须保证该路径可写
     * <span class="hljs-doctag">@return</span> 错误码，详细描述见错误码定义
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setDownloadDir</span><span class="hljs-params">(String path)</span></span>;
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h4 id="将接收的语音消息标记为已播放">将接收的语音消息标记为已播放<a class="anchor" aria-hidden="true" href="#将接收的语音消息标记为已播放">#</a></h4><ul>
<li><p>功能：播放语音消息后，标记该语音消息为已播放。</p>
</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * <span class="hljs-doctag">@param</span> messageID 语音消息ID
    * <span class="hljs-doctag">@param</span> played 是否已播放，`true`为已播放，`false`为未播放。
    * <span class="hljs-doctag">@return</span>
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setVoiceMsgPlayed</span><span class="hljs-params">(<span class="hljs-keyword">long</span> messageID, <span class="hljs-keyword">boolean</span> played)</span></span>
</code></pre>
</li>
<li><p>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a>  </p>
</li>
</ul>
<h4 id="获取麦克风状态">获取麦克风状态<a class="anchor" aria-hidden="true" href="#获取麦克风状态">#</a></h4><p>这是一个异步操作，操作结果会通过回调参数返回。（该接口会临时占用麦克风）</p>
<ul>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * 获取麦克风状态
    * <span class="hljs-doctag">@param</span> callback 获取麦克风状态回调      
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getMicrophoneStatus</span><span class="hljs-params">(YIMEventCallback.GetMicStatusCallback callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">GetMicStatusCallback</span></span>{
    <span class="hljs-comment">/**
     * 获取麦克风状态回调
     * <span class="hljs-doctag">@param</span> status  麦克风的状态，0-可用，1-无权限，2-静音，3-不可用
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onGetMicrophoneStatus</span><span class="hljs-params">(<span class="hljs-keyword">int</span> status)</span></span>;
}
</code></pre>
</li>
</ul>
<h3 id="录音上传">录音上传<a class="anchor" aria-hidden="true" href="#录音上传">#</a></h3><h4 id="启动录音">启动录音<a class="anchor" aria-hidden="true" href="#启动录音">#</a></h4><ul>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * <span class="hljs-doctag">@param</span> translateToText 是否进行语音转文字识别
    * <span class="hljs-doctag">@return</span> YIMClient.MessageSendStatus
    */</span>
    <span class="hljs-keyword">public</span> YIMClient.<span class="hljs-function">MessageSendStatus <span class="hljs-title">startAudioSpeech</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> translateToText)</span></span>
</code></pre>
</li>
<li><p>返回：<br>消息发送结果，MessageSendStatus包含错误码和消息ID</p>
</li>
</ul>
<h4 id="停止录音并发送">停止录音并发送<a class="anchor" aria-hidden="true" href="#停止录音并发送">#</a></h4><ul>
<li>功能：该接口只返回音频文件的下载链接，不会自动发送,这是一个异步操作，操作结果会通过回调参数返回。</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    * 停止录音
    * <span class="hljs-doctag">@param</span> callback 上传录音回调      
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopAudioSpeech</span><span class="hljs-params">(YIMEventCallback.SpeechEventCallback callback)</span></span>
</code></pre>
</li>
<li><p>相关接口：</p>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 取消录音
     * <span class="hljs-doctag">@return</span> 错误码
     */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">cancleAudioMessage</span><span class="hljs-params">()</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SpeechEventCallback</span> </span>{
   <span class="hljs-comment">/**
    * StartAudioSpeech 接口对应的结果回调通知
    * <span class="hljs-doctag">@param</span> errorcode 错误码，0 表示正常
    * <span class="hljs-doctag">@param</span> iRequestID 消息ID
    * <span class="hljs-doctag">@param</span> strDownloadURL 语音文件下载地址（wav格式）
    * <span class="hljs-doctag">@param</span> iDuration 录音时长，单位秒
    * <span class="hljs-doctag">@param</span> iFileSize 文件大小，字节
    * <span class="hljs-doctag">@param</span> strLocalPath 本地语音文件路径
    * <span class="hljs-doctag">@param</span> strText 语音识别文本，可能为空null or ""
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStopAudioSpeechStatus</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, SpeechMessageInfo speechMsgInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>SpeechMessageInfo</code>类成员方法如下：<br><code>getDownloadURL()</code>: 语音文件下载地址（wav格式），String类型<br><code>getDuration()</code>: 录音时长，单位秒，int类型<br><code>getFileSize()</code>: 文件大小，字节，int类型<br><code>getLocalPath()</code>: 本地语音文件路径 ，String类型<br><code>getRequestID()</code>: 消息ID，long类型<br><code>getText()</code>: 语音识别文本，可能为空null or &quot;&quot;，String类型</li>
</ul>
<h4 id="根据url下载语音">根据url下载语音<a class="anchor" aria-hidden="true" href="#根据url下载语音">#</a></h4><ul>
<li>功能：通过onStopAudioSpeechStatus收到url地址后，通过这个接口下载</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
    * 下载语音文件
    * <span class="hljs-doctag">@param</span> fromUrl 语音文件URL
    * <span class="hljs-doctag">@param</span> savePath 语音文件的本地存放地址,带文件名的全路径  
    * <span class="hljs-doctag">@param</span> callback 下载文件回调 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">downloadFileByUrl</span><span class="hljs-params">( String fromUrl, String savePath, YIMEventCallback.DownloadByUrlCallback callback )</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">DownloadByUrlCallback</span> </span>{

    <span class="hljs-comment">/**
     * 下载文件回调
     *
     * <span class="hljs-doctag">@param</span> errorcode 错误码
     * <span class="hljs-doctag">@param</span> fromUrl  文件url
     * <span class="hljs-doctag">@param</span> savePath  文件存放路径
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDownloadByUrl</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, String fromUrl,  String savePath)</span></span>;
}
</code></pre>
<h3 id="消息屏蔽">消息屏蔽<a class="anchor" aria-hidden="true" href="#消息屏蔽">#</a></h3><h4 id="屏蔽解除屏蔽用户消息">屏蔽/解除屏蔽用户消息<a class="anchor" aria-hidden="true" href="#屏蔽解除屏蔽用户消息">#</a></h4><p>若屏蔽用户的消息，此屏蔽用户发送的私聊/频道消息都接收不到。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/*
     * 功能：屏蔽/解除屏蔽用户消息
     * @param userID：用户ID
     * @param block：true-屏蔽 false-解除屏蔽
     * @param callback 屏蔽用户回调
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">blockUser</span><span class="hljs-params">(String userID, <span class="hljs-keyword">boolean</span> block, YIMEventCallback.ResultCallback&lt;BlockUserInfo&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">BlockUserInfo</span>&gt; </span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> blockInfo 屏蔽信息    
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(BlockUserInfo blockInfo)</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码   
     * <span class="hljs-doctag">@param</span> blockInfo 屏蔽信息 
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, BlockUserInfo blockInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>BlockUserInfo</code>类成员方法如下：<br><code>getUserID()</code>: 用户ID， String类型<br><code>getBlock()</code>: 是否屏蔽，true-屏蔽 false-解除屏蔽，boolean类型   </li>
</ul>
<h4 id="解除所有已屏蔽用户">解除所有已屏蔽用户<a class="anchor" aria-hidden="true" href="#解除所有已屏蔽用户">#</a></h4><ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/*
     * 功能：解除所有已屏蔽用户
     * @param callback 解除用户屏蔽回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">unBlockAllUser</span><span class="hljs-params">(YIMEventCallback.OperationCallback callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OperationCallback</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span></span>;

   <span class="hljs-comment">/**
    * 解除所有已屏蔽用户回调
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode)</span></span>;
}
</code></pre>
<h4 id="获取被屏蔽消息用户">获取被屏蔽消息用户<a class="anchor" aria-hidden="true" href="#获取被屏蔽消息用户">#</a></h4><ul>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/*
    * 功能：获取被屏蔽消息用户
    * @param callback 获取屏蔽用户回调
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getBlockUsers</span><span class="hljs-params">(YIMEventCallback.ResultCallback&lt;ArrayList&lt;String&gt;&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">ArrayList</span>&lt;<span class="hljs-title">String</span>&gt;&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> userList 用户ID列表    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ArrayList&lt;String&gt; userList)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> userList 用户ID列表 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, ArrayList&lt;String&gt; userList)</span></span>;
}
</code></pre>
<h3 id="消息功能设置">消息功能设置<a class="anchor" aria-hidden="true" href="#消息功能设置">#</a></h3><h4 id="设置消息已读">设置消息已读<a class="anchor" aria-hidden="true" href="#设置消息已读">#</a></h4><ul>
<li><p>功能：收到消息后，设置消息为已读。</p>
</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * <span class="hljs-doctag">@param</span> messageID 消息ID
    * <span class="hljs-doctag">@param</span> read 是否已读，`true`为已读，`false`为未读。
    * <span class="hljs-doctag">@return</span>
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setMessageRead</span><span class="hljs-params">(<span class="hljs-keyword">long</span> messageID, <span class="hljs-keyword">boolean</span> read)</span></span>
</code></pre>
</li>
<li><p>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a> </p>
</li>
</ul>
<h4 id="批量设置消息已读">批量设置消息已读<a class="anchor" aria-hidden="true" href="#批量设置消息已读">#</a></h4><ul>
<li><p>功能：收到消息后，设置消息为已读。</p>
</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * <span class="hljs-doctag">@param</span> userID 发消息的用户ID；用户ID为空字符串时，将登录用户的所有消息设置为已读/未读；用户ID不为空字符串时，将接收的由该用户ID发送的消息设置为已读/未读
    * <span class="hljs-doctag">@param</span> read 是否已读，`true`为已读，`false`为未读。
    * <span class="hljs-doctag">@return</span>
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setAllMessageRead</span><span class="hljs-params">(String userID, <span class="hljs-keyword">boolean</span> read)</span></span>
</code></pre>
</li>
<li><p>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></p>
</li>
</ul>
<h4 id="切换获取消息模式">切换获取消息模式<a class="anchor" aria-hidden="true" href="#切换获取消息模式">#</a></h4><ul>
<li>功能：在自动接收消息和手动接收消息间切换，默认是自动接收消息。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> targets 频道ID，可以指定多个
     * <span class="hljs-doctag">@param</span> autoReceive `true`为自动接收消息，`false`为手动接收消息，默认为`true`。
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setReceiveMessageSwitch</span><span class="hljs-params">(List&lt;String&gt; targets, <span class="hljs-keyword">boolean</span> autoReceive)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h4 id="手动获取消息">手动获取消息<a class="anchor" aria-hidden="true" href="#手动获取消息">#</a></h4><ul>
<li>功能：在手动接收消息模式，需要调用该接口后才能收到 <code>OnRecvMessage</code> 通知。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> targets 指定拉取消息的频道ID，可以指定多个
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getNewMessage</span><span class="hljs-params">(List&lt;String&gt; targets)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
<li>备注：这是一个异步操作，操作结果会通过回调接口返回</li>
</ul>
<h4 id="新消息通知">新消息通知<a class="anchor" aria-hidden="true" href="#新消息通知">#</a></h4><ul>
<li><p>功能：setReceiveMessageSwitch(false)后，进入手动接收消息模式，有新消息 的时候会通知该回调，频道消息会通知消息来自哪个频道ID</p>
</li>
<li><p>原型：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageEventCallback</span> </span>{
    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> chatType 聊天类型
     * <span class="hljs-doctag">@param</span> targets 频道ID     
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvNewMessage</span><span class="hljs-params">( <span class="hljs-keyword">int</span> chatType, String targetID)</span></span>;
}
</code></pre>
<h3 id="消息记录管理">消息记录管理<a class="anchor" aria-hidden="true" href="#消息记录管理">#</a></h3><h4 id="设置是否保存频道聊天记录">设置是否保存频道聊天记录<a class="anchor" aria-hidden="true" href="#设置是否保存频道聊天记录">#</a></h4><ul>
<li>功能：设置是否在本地保存频道聊天记录，默认不保存。私聊历史记录默认保存。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> roomIDs 频道id，指定要保存本地历史记录的频道ID，可以一次设置多个，对应 `JoinChatRoom` 指定的ID。
     * <span class="hljs-doctag">@param</span> isSave `true`表示保存聊天记录，`false`表示不保存聊天记录。
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">setRoomHistoryMessageSwitch</span><span class="hljs-params">(List&lt;String&gt; roomIDs,<span class="hljs-keyword">boolean</span> isSave)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
</ul>
<h4 id="拉取频道最近聊天记录">拉取频道最近聊天记录<a class="anchor" aria-hidden="true" href="#拉取频道最近聊天记录">#</a></h4><ul>
<li><p>功能：从服务器拉取频道最近的聊天历史记录。这个功能默认不开启，需要的请联系我们修改服务器配置。联系我们，可以通过专属游密支持群或者技术支持的大群。这是一个异步操作，操作结果会通过回调接口返回。</p>
</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    *
    * <span class="hljs-doctag">@param</span> roomID 频道ID
    * <span class="hljs-doctag">@param</span> count 消息数量(最大200条)
    * <span class="hljs-doctag">@param</span> direction 历史消息排序方向 0：按时间戳升序    1：按时间戳逆序
    * <span class="hljs-doctag">@param</span> callback 查询历史记录回调
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">queryRoomHistoryMessageFromServer</span><span class="hljs-params">(String roomID, <span class="hljs-keyword">int</span> count, <span class="hljs-keyword">int</span> direction, YIMEventCallback.ResultCallback&lt;RoomHistoryMsgInfo&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">RoomHistoryMsgInfo</span>&gt; </span>{  

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> msgInfo 频道消息记录    
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(RoomHistoryMsgInfo msgInfo)</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码   
     * <span class="hljs-doctag">@param</span> msgInfo 频道消息记录 
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, RoomHistoryMsgInfo msgInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>RoomHistoryMsgInfo</code>类成员方法如下:<br><code>getRoomID()</code>: 获取频道ID，String类型<br><code>getRemain()</code>: 获取剩余消息记录数量，int类型<br><code>getMessageList()</code>: 获取消息记录列表，ArrayList&lt;YIMMessage&gt;<br><code>YIMMessage</code>类详细定义查看<a href="#接收消息">接收消息</a>备注</li>
</ul>
<h4 id="本地历史记录管理">本地历史记录管理<a class="anchor" aria-hidden="true" href="#本地历史记录管理">#</a></h4><h5 id="查询本地聊天历史记录">查询本地聊天历史记录<a class="anchor" aria-hidden="true" href="#查询本地聊天历史记录">#</a></h5><ul>
<li>功能: 获取本地消息历史记录，这是一个异步操作，操作结果会通过回调接口返回</li>
<li>原型:</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> targetID 私聊用户ID或频道ID
     * <span class="hljs-doctag">@param</span> chatType 表示查询私聊或者频道聊天的历史记录
     * <span class="hljs-doctag">@param</span> startMessageID 起始历史记录消息id（与requestid不同），为`0`表示首次查询，将倒序获取`count`条记录
     * <span class="hljs-doctag">@param</span> count 最多获取多少条
     * <span class="hljs-doctag">@param</span> direction 历史记录查询方向，`startMessageID=0`时,direction使用默认值0；`startMessageID&gt;0`时，`0`表示查询比`startMessageID`小的消息，`1`表示查询比`startMessageID`大的消息
     * <span class="hljs-doctag">@param</span> callback 查询本地历史记录回调
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">queryHistoryMessage</span><span class="hljs-params">(String targetID, <span class="hljs-keyword">int</span> chatType, <span class="hljs-keyword">long</span> startMessageID, <span class="hljs-keyword">int</span> count, <span class="hljs-keyword">int</span> direction, YIMEventCallback.ResultCallback&lt;YIMHistoryMessage&gt; callback)</span></span>
</code></pre>
<ul>
<li><p>相关函数：<br>对于房间本地记录，需要先设置自动保存房间消息。<code>setRoomHistoryMessageSwitch</code></p>
</li>
<li><p>回调参数：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">YIMHistoryMessage</span>&gt; </span>{   
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> msgInfo 历史消息记录    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(YIMHistoryMessage msgInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> msgInfo 历史消息记录 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMHistoryMessage msgInfo)</span></span>;
}
</code></pre>
<ul>
<li><p>备注：<br><code>YIMHistoryMessage</code>类成员变量如下：<br><code>targetID</code>：用户ID/频道ID，String型<br><code>remain</code>：剩余历史消息条数，int型<br><code>messageList</code>：消息列表，YIMHistoryMessageBody型</p>
<p><code>YIMHistoryMessageBody</code>类成员方法如下：<br><code>getSenderID()</code>：返回消息发送者ID，String型<br><code>getReceiveID()</code>：返回消息接收者ID，String型<br><code>getMessageID()</code>：返回消息ID，Long型<br><code>getChatType()</code>：返回聊天类型，私聊/频道聊天，int型<br><code>getMessageType()</code>：返回消息类型，0-未知类型，1-文本消息，2-自定义消息，3-表情，         4-图片，5-语音，6-视频，7-文件，8-礼物<br><code>getText()</code>：返回文本消息内容/语音消息的文本识别内容，String型<br><code>getLocalPath()</code>：返回语音消息文件的本地路径，String型<br><code>getCreateTime()</code>：返回消息收发时间，int型<br><code>getIsRead()</code>：返回消息是否已读，boolean型<br><code>getParam()</code>：如果是语音消息，返回语音消息的自定义附加参数<br><code>getDuration()</code>：如果是语音消息，返回语音消息时长，int型<br><code>getCustomMesssageContent()</code>：如果是自定义消息，返回自定义消息内容，byte[]型<br><code>getVoiceToText()</code>：返回语音消息的文本识别内容，String型<br><code>getFileName()</code>：如果是文件消息，返回文件名，String型<br><code>getFileExtension()</code>：如果是文件消息，返回文件扩展信息，String型<br><code>getFileSize()</code>：如果是文件消息，返回文件大小，int型<br><code>getIsPlayed()</code>：如果是语音消息，返回语音消息是否已播放，boolean型</p>
</li>
</ul>
<h5 id="根据时间清理本地聊天历史记录">根据时间清理本地聊天历史记录<a class="anchor" aria-hidden="true" href="#根据时间清理本地聊天历史记录">#</a></h5><ul>
<li>功能：清理本地历史记录</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> chatType 指定是清理频道消息还是私聊消息
     * <span class="hljs-doctag">@param</span> time Unix timestamp,精确到秒，表示删除这个时间点之前的所有历史记录
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteHistoryMessageBeforeTime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> chatType, <span class="hljs-keyword">long</span> time)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
<li>备注：建议定期清理本地历史记录。</li>
</ul>
<h5 id="根据消息id清理本地聊天历史记录">根据消息ID清理本地聊天历史记录<a class="anchor" aria-hidden="true" href="#根据消息id清理本地聊天历史记录">#</a></h5><ul>
<li>功能：清理本地历史记录</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> messageID 将删除指定消息ID的历史记录，对应 `YIMEngine.HistoryMsg` 的 `MessageID` 属性值
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteHistoryMessageByID</span><span class="hljs-params">(<span class="hljs-keyword">long</span> messageID)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
<li>备注：建议定期清理本地历史记录。</li>
</ul>
<h5 id="根据用户id清理本地私聊历史记录">根据用户ID清理本地私聊历史记录<a class="anchor" aria-hidden="true" href="#根据用户id清理本地私聊历史记录">#</a></h5><ul>
<li>功能：根据用户ID删除对应的本地私聊历史记录，保留消息ID白名单中的消息记录,白名单列表为空时删除与该用户ID间的所有本地私聊记录。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> targetID 用户ID
     * <span class="hljs-doctag">@param</span> chatType 指定清理私聊消息
     * <span class="hljs-doctag">@param</span> excludeMesList 与该用户ID的私聊消息ID白名单
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteSpecifiedHistoryMessage</span><span class="hljs-params">(String targetID, <span class="hljs-keyword">int</span> chatType, <span class="hljs-keyword">long</span>[] excludeMesList)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
<li>备注：建议定期清理本地历史记录。</li>
</ul>
<h5 id="根据用户id或者房间id清理本地聊天历史记录">根据用户ID或者房间ID清理本地聊天历史记录<a class="anchor" aria-hidden="true" href="#根据用户id或者房间id清理本地聊天历史记录">#</a></h5><ul>
<li>功能：根据用户ID或者房间ID删除以指定的起始消息ID开始的n条本地私聊历史记录，起始消息ID和消息数量使用默认值时则删除所有消息。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> targetID 用户ID或者房间ID
     * <span class="hljs-doctag">@param</span> chatType 聊天类型
     * <span class="hljs-doctag">@param</span> startMessageID 起始消息ID(默认值0表示最近的一条消息)
     * <span class="hljs-doctag">@param</span> count 消息数量(默认值0表示删除所有消息)
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteHistoryMessageByTarget</span><span class="hljs-params">(String targetID, <span class="hljs-keyword">int</span> chatType, <span class="hljs-keyword">long</span> startMessageID, <span class="hljs-keyword">int</span> count)</span></span>
</code></pre>
<ul>
<li>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></li>
<li>备注：建议定期清理本地历史记录。</li>
</ul>
<h5 id="获取最近私聊联系人列表">获取最近私聊联系人列表<a class="anchor" aria-hidden="true" href="#获取最近私聊联系人列表">#</a></h5><ul>
<li>功能：该接口是根据本地历史消息记录生成的最近联系人列表，按最后聊天时间倒序排列。该列表会受清理历史记录消息的接口影响。这是一个异步操作，操作结果会通过回调接口返回。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     * 获取最近联系人
     * <span class="hljs-doctag">@param</span> callback 获取最近联系人回调
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getHistoryContact</span><span class="hljs-params">(YIMEventCallback.ResultCallback&lt;ArrayList&lt;ContactsSessionInfo&gt;&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">ArrayList</span>&lt;<span class="hljs-title">ContactsSessionInfo</span>&gt;&gt;</span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> contactLists 最近联系人列表    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ArrayList&lt;ContactsSessionInfo&gt; contactLists)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> contactLists 最近联系人列表 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, ArrayList&lt;ContactsSessionInfo&gt; contactLists)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>ContactsSessionInfo</code>类成员变量如下：<br><code>strContactID</code>：联系人ID<br><code>iMessageType</code>：消息类型，0-未知类型，1-文本消息，2-自定义消息，3-表情，4-图片，5-语音，6-视频，7-文件，8-礼物<br><code>strMessageContent</code>：消息内容<br><code>iCreateTime</code>：消息收发时间<br><code>iNotReadMsgNum</code>：消息未读数量（此值有意义需结合SetMessageRead接口使用，可在收到消息后设置消息已读）<br><code>strLocalPath</code>：如果是语音或者文件消息，本地存放路径<br><code>strExtraInfo</code>：如果是语音或者文件消息，额外信息(FileSize,FileName,FileExtension,Param等Key)</li>
</ul>
<h3 id="高级功能">高级功能<a class="anchor" aria-hidden="true" href="#高级功能">#</a></h3><h4 id="文本翻译">文本翻译<a class="anchor" aria-hidden="true" href="#文本翻译">#</a></h4><ul>
<li>功能：将文本翻译成指定语言的文本，这是一个异步操作，操作结果会通过回调接口返回</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *  文本翻译
     *  <span class="hljs-doctag">@pararm</span> text 原语言字符串
     *  <span class="hljs-doctag">@param</span> destLangCode 目标语言编码 LanguageCode
     *  <span class="hljs-doctag">@param</span> srcLangCode 原语言编码 LanguageCode
      */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">translateText</span><span class="hljs-params">( String text, <span class="hljs-keyword">int</span> destLangCode, <span class="hljs-keyword">int</span> srcLangCode, YIMEventCallback.ResultCallback&lt;TranlateTextInfo&gt; callback)</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">TranlateTextInfo</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> translateTextInfo 文本翻译信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(TranlateTextInfo translateTextInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> translateTextInfo 文本翻译信息 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, TranlateTextInfo translateTextInfo)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>TranlateTextInfo</code>: 类成员变量如下：<br><code>requestID</code>: 消息ID<br><code>text</code>: 翻译结果<br><code>srcLangCode</code>: 翻译原语言编码 可查看LanguageCode枚举，Integer类型<br><code>destLangCode</code>: 翻译目标语言编码 可查看LanguageCode枚举，Integer类型 </li>
</ul>
<h4 id="敏感词过滤">敏感词过滤<a class="anchor" aria-hidden="true" href="#敏感词过滤">#</a></h4><p>考虑到客户端可能需要传递一些自定义消息，关键字过滤方法就直接提供出来，客户端可以选择是否过滤关键字，并且可以根据匹配到的等级能进行广告过滤。比如<code>level</code>返回的值为&#39;2&#39;表示广告，那么可以在发送时选择不发送，接收放可以自定义是否显示该消息。</p>
<ul>
<li>功能：过滤敏感词</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-comment">/**
     *
     * <span class="hljs-doctag">@param</span> strSource 原字符串
     * <span class="hljs-doctag">@param</span> level 匹配到的敏感词等级会放到level对象的value里
     * <span class="hljs-doctag">@return</span> 过滤后的字符串，敏感词替换为"**"
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getFilterText</span><span class="hljs-params">(String strSource, IMEngine.IntegerVal level)</span></span>;
</code></pre>
<ul>
<li>返回：<br>过滤后的字符串，敏感词替换为&quot;**&quot;</li>
</ul>
<h2 id="游戏暂停与恢复">游戏暂停与恢复<a class="anchor" aria-hidden="true" href="#游戏暂停与恢复">#</a></h2><h3 id="游戏暂停通知">游戏暂停通知<a class="anchor" aria-hidden="true" href="#游戏暂停通知">#</a></h3><ul>
<li>功能；建议游戏暂停时通知该接口，以便于得到更好重连效果；<br>调用onPause(false),在游戏暂停后依旧接收IM消息；<br>调用onPause(true),游戏暂停，即使IM是登录状态也不会接收IM消息；在游戏恢复运行时会主动拉取暂停期间未接收的消息，收到onRecvMessage()回调。</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/*
    * 功能：暂停
    * @param pauseReceiveMessage  是否暂停接收IM消息，true-暂停接收 false-不暂停接收      
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPause</span><span class="hljs-params">(bool pauseReceiveMessage)</span></span>;
</code></pre>
</li>
</ul>
<h3 id="游戏恢复运行通知">游戏恢复运行通知<a class="anchor" aria-hidden="true" href="#游戏恢复运行通知">#</a></h3><ul>
<li>功能：建议游戏恢复运行时通知该接口，以便于得到更好重连效果</li>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onResume</span><span class="hljs-params">()</span></span>;
</code></pre>
</li>
</ul>
<h2 id="用户举报和禁言">用户举报和禁言<a class="anchor" aria-hidden="true" href="#用户举报和禁言">#</a></h2><h3 id="用户举报">用户举报<a class="anchor" aria-hidden="true" href="#用户举报">#</a></h3><ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    * 举报
    * <span class="hljs-doctag">@param</span> userID：被举报用户ID
    * <span class="hljs-doctag">@param</span> source：来源（私聊/频道）
    * <span class="hljs-doctag">@param</span> reason：原因，由用户定义枚举
    * <span class="hljs-doctag">@param</span> description：原因描述
    * <span class="hljs-doctag">@param</span> extraParam：附加信息JSON格式 ({"nickname":"","server_area":"","level":"","vip_level":""}）
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">accusation</span><span class="hljs-params">(String userID, <span class="hljs-keyword">int</span> source, <span class="hljs-keyword">int</span> reason, String description, String extraParam)</span></span>
</code></pre>
<ul>
<li><p>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></p>
</li>
<li><p>举报处理结果通知</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AccusationResultCallback</span> </span>{
   <span class="hljs-comment">/**
    * 举报处理结果回调
    * <span class="hljs-doctag">@param</span> result 处理结果，0-忽略，1-警告，2-禁言
    * <span class="hljs-doctag">@param</span> userID 被举报用户
    * <span class="hljs-doctag">@param</span> accusationTime 举报时间
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAccusationResultNotify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> result, String userID, <span class="hljs-keyword">int</span> accusationTime)</span></span>;
}
</code></pre>
<h3 id="禁言查询">禁言查询<a class="anchor" aria-hidden="true" href="#禁言查询">#</a></h3><p>查询所在频道的禁言状态。</p>
<ul>
<li><p>原型：</p>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getForbiddenSpeakInfo</span><span class="hljs-params">(YIMEventCallback.ResultCallback&lt;ArrayList&lt;YIMForbiddenSpeakInfo&gt;&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">ArrayList</span>&lt;<span class="hljs-title">YIMForbiddenSpeakInfo</span>&gt;&gt; </span>{
   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> forbiddenInfoList 禁言状态列表,每一个代表一个频道的禁言状态    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ArrayList&lt;YIMForbiddenSpeakInfo&gt;  forbiddenInfoList)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> forbiddenInfoList 禁言状态列表,每一个代表一个频道的禁言状态 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, ArrayList&lt;YIMForbiddenSpeakInfo&gt;  forbiddenInfoList)</span></span>;
 }
</code></pre>
<ul>
<li>备注：<br><code>YIMForbiddenSpeakInfo</code> 类成员方法如下：<br><code>getChannelID()</code>：返回频道ID，String类型<br><code>getIsForbidRoom()</code>：返回此频道是否被禁言，true-被禁言，false-未被禁言，boolean类型<br><code>getReasonType()</code>：返回禁言原因类型，0-未知，1-发广告，2-侮辱，3-政治敏感，4-恐怖主义，5-反动，6-色情，7-其它，int类型<br><code>getEndTime()</code>：若被禁言，返回禁言结束时间，long型</li>
</ul>
<h2 id="公告管理">公告管理<a class="anchor" aria-hidden="true" href="#公告管理">#</a></h2><p>基本流程：申请开通公告功能-&gt;后台添加新公告然后设置公告发送时间,公告消息类型,发送时间,接收公告的频道等。-&gt;(客户端流程) 设置对应监听-&gt; 调用对应接口-&gt;回调接收</p>
<h3 id="公告功能简述">公告功能简述<a class="anchor" aria-hidden="true" href="#公告功能简述">#</a></h3><p>1.公告发送由后台配置，如类型、周期、发送时间、内容、链接、目标频道、次数、起始结束时间等。</p>
<p>2.公告三种类型：跑马灯，聊天框，置顶公告，<br>(1) 跑马灯，聊天框公告可设置发送时间，次数和间隔（从指定时间点开始隔固定间隔时间发送多次，界面展示及显示时长由客户端决定）；<br>(2) 置顶公告需设置开始和结束时间（该段时间内展示）。</p>
<p>3.三种公告均有一次性、周期性两种循环属性：<br>  一次性公告，到达指定时间点，发送该条公告;<br>  周期性公告，跟一次性公告发送规则一致，但是可以设置发送周期（在每周哪几天的指定时间发送）。</p>
<p>4.跑马灯与聊天框公告只有发送时间点在线的用户才能收到该公告，显示规则由客户端自己决定，两者区别主要是界面显示的区分。</p>
<p>5.置顶公告有显示起始和结束时间，表示该时段内显示，公告发送时间点在线的用户会收到该公告，公告发送时间点未在线用户，在公告显示时段登录，登录后可通过查询公告接口查到该公告。</p>
<p>6.公告撤销<br>仅针对置顶公告，公告显示时段撤销公告，客户端会收到公告撤销通知，界面进行更新。</p>
<h3 id="接收公告">接收公告<a class="anchor" aria-hidden="true" href="#接收公告">#</a></h3><p>管理员在后台发布公告，当到达指定时间会收到该公告，界面根据不同类型的公告进行展示。</p>
<ul>
<li>原型：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">NoticeCallback</span> </span>{
    <span class="hljs-comment">/**
     * 接收公告回调
     * <span class="hljs-doctag">@param</span> notice 公告信息
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRecvNotice</span><span class="hljs-params">(NoticeInfo notice)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>NoticeInfo</code>类成员变量如下：<br><code>iNoticeID</code>：公告ID，Long型<br><code>iNoticeType</code>：公告类型，Integer型<br><code>strChannelID</code>：发布公告的频道ID，String型<br><code>strContent</code>：公告内容，String型<br><code>strLinkText</code>：公告链接关键字，String型<br><code>strLinkAddr</code>：公告链接地址，String型<br><code>iBeginTime</code>：公告开始时间，Integer型<br><code>iEndTime</code>：公告结束时间，Integer型</li>
</ul>
<h3 id="撤销公告">撤销公告<a class="anchor" aria-hidden="true" href="#撤销公告">#</a></h3><p>对于某些类型的公告（如置顶公告），需要在界面展示一段时间，如果管理员在该时间段执行撤销该公告，会收到撤销公告通知，界面进行相应更新。</p>
<ul>
<li><p>原型：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">NoticeCallback</span> </span>{
   <span class="hljs-comment">/**
    * 撤销公告（置顶公告）
    * <span class="hljs-doctag">@param</span> noticeID 公告ID
    * <span class="hljs-doctag">@param</span> channelID 发布公告的频道ID
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCancelNotice</span><span class="hljs-params">(<span class="hljs-keyword">long</span> noticeID, String channelID)</span></span>;
}
</code></pre>
</li>
</ul>
<h3 id="查询公告">查询公告<a class="anchor" aria-hidden="true" href="#查询公告">#</a></h3><p>公告在配置的时间点下发到客户端，对于某些类型的公告（如置顶公告）需要在某个时间段显示在，如果用户在公告下发时间点未在线，而在公告展示时间段内登录，应用可根据自己的需要决定是否展示该公告，<code>queryNotice</code>查询公告，结果通过上面的<code>onRecvNotice</code>异步回调返回。</p>
<ul>
<li><p>原型：</p>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">queryNotice</span><span class="hljs-params">()</span></span>
</code></pre>
</li>
<li><p>返回值：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a>  </p>
</li>
</ul>
<h2 id="地理位置">地理位置<a class="anchor" aria-hidden="true" href="#地理位置">#</a></h2><h3 id="获取自己当前地理位置">获取自己当前地理位置<a class="anchor" aria-hidden="true" href="#获取自己当前地理位置">#</a></h3><ul>
<li>功能：获取用户当前地理位置，这是一个异步操作，操作结果会通过回调接口返回。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    * 获取地理定位
    * <span class="hljs-doctag">@return</span>
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCurrentLocation</span><span class="hljs-params">()</span></span>
</code></pre>
<ul>
<li><p>返回：<br>错误码，详细描述见<a href="#错误码定义">错误码定义</a></p>
</li>
<li><p>异步回调接口：</p>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">GetLocationCallback</span>
</span>{
    <span class="hljs-comment">/**
     * 获取自己位置回调
     * <span class="hljs-doctag">@param</span> errorcode 错误码 ，详细描述见错误码定义
     * <span class="hljs-doctag">@param</span> location 当前地理位置及行政区划信息。
     */</span>

     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onUpdateLocation</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, GeographyLocation location)</span></span>;
}
</code></pre>
<ul>
<li>备注：<br><code>GeographyLocation</code>类成员变量如下：<br><code>iDistrictCode</code>：int类型，地理区域编码，可根据此参数组合附近频道id<br><code>strCountry</code>：String类型，国家<br><code>strProvince</code>：String类型，省份<br><code>strCity</code>：String类型，城市<br><code>strDistrictCounty</code>：String类型，区县<br><code>strStreet</code>：String类型，街道<br><code>fLongitude</code>：double类型，经度<br><code>fLatitude</code>：double类型，纬度</li>
</ul>
<h3 id="获取附近的人">获取附近的人<a class="anchor" aria-hidden="true" href="#获取附近的人">#</a></h3><ul>
<li>条件：需要开通LBS定位服务才能使用</li>
<li>功能：获取附近的目标(人 房间) ，若已开启服务，此功能生效的前提是自己和附近的人都获取了自己的地理位置，即调用了IM的获取当前地理位置接口。</li>
<li>原型：</li>
</ul>
<pre><code class="lang-java">  <span class="hljs-comment">/**
   * 获取附近的目标  
   * <span class="hljs-doctag">@param</span> count: 获取附近的目标数量（一次最大200）
   * <span class="hljs-doctag">@param</span> serverAreaID：区服（对应设置用户信息中的区服，如果只需要获得本服务器的，要填；否则填""）
   * <span class="hljs-doctag">@param</span> districtlevel：行政区划等级，一般填0，0-未知，1-国家，2-省份，3-城市，4-区县，5-街道
   * <span class="hljs-doctag">@param</span> resetStartDistance：是否重置查找起始距离（是否从距自己0米开始查找）
   * <span class="hljs-doctag">@param</span> callback  获取附近人回调
   */</span>
   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getNearbyObjects</span><span class="hljs-params">(<span class="hljs-keyword">int</span> count, String serverAreaID, <span class="hljs-keyword">int</span> districtlevel , <span class="hljs-keyword">boolean</span> resetStartDistance, YIMEventCallback.ResultCallback&lt;RelativeLocationInfo&gt; callback )</span></span>
</code></pre>
<ul>
<li>回调参数：</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">RelativeLocationInfo</span>&gt;
</span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> locationInfo 位置信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(RelativeLocationInfo  locationInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> locationInfo 位置信息  
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, RelativeLocationInfo  locationInfo)</span></span>;
}
</code></pre>
<ul>
<li><p>备注：<br><code>RelativeLocationInfo</code>:类成员如下<br><code>startDistance</code>: 查找起始距离，int类型<br><code>endDistance</code>: 查找终止距离，int类型<br><code>relativeLocations</code>: 附近的人地理位置信息列表，ArrayList&lt;RelativeLocation&gt;类型</p>
<p><code>RelativeLocation</code>类成员变量如下：<br><code>iDistance</code>: 与自己的距离，int类型<br><code>fLongitude</code>: 经度，double类型<br><code>fLatitude</code>: 纬度，double类型<br><code>strUserID</code>: 附近用户ID，String类型<br><code>strCountry</code>: 国家，String类型<br><code>strProvince</code>: 省份，String类型<br><code>strCity</code> 城市，String类型<br><code>strDistrictCounty</code> 区县，String类型<br><code>strStreet</code> 街道，String类型</p>
</li>
</ul>
<h3 id="地理位置更新">地理位置更新<a class="anchor" aria-hidden="true" href="#地理位置更新">#</a></h3><ul>
<li><p>功能：从资源和耗电方面的考虑，SDK不自动监听地理位置的变化，如果调用方有需要可调用<code>setUpdateInterval</code>接口，设置更新时间间隔，SDK会按设定的时间间隔监听位置变化并通知上层。（如果应用对地理位置变化关注度不大，最好不要设置自动更新）</p>
</li>
<li><p>原型：</p>
</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> interval 更新间隔时间 单位：分钟
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUpdateInterval</span><span class="hljs-params">(<span class="hljs-keyword">int</span> interval)</span></span>
</code></pre>
<h3 id="获取与指定用户距离">获取与指定用户距离<a class="anchor" aria-hidden="true" href="#获取与指定用户距离">#</a></h3><p>获取与指定用户距离之前，需要调用<code>getCurrentLocation</code>成功获取自己的地理位置,指定的用户也调用<code>getCurrentLocation</code>成功获取其地理位置。</p>
<ul>
<li><p>原型：</p>
<pre><code class="lang-java">   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> userID 用户ID
    * <span class="hljs-doctag">@param</span> callback  获取距离回调
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getDistance</span><span class="hljs-params">(String userID, YIMEventCallback.ResultCallback&lt;UserDistanceInfo&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">UserDistanceInfo</span>&gt;
</span>{     
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> distanceInfo 距离信息    
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(UserDistanceInfo distanceInfo)</span></span>;

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> errorcode 错误码   
     * <span class="hljs-doctag">@param</span> distanceInfo 距离信息  
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, UserDistanceInfo distanceInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>UserDistanceInfo</code>: 类成员变量如下<br><code>userID</code>: 用户ID, String类型<br><code>distance</code>: 距离（米），int类型  </p>
</li>
</ul>
<h2 id="关系链管理">关系链管理<a class="anchor" aria-hidden="true" href="#关系链管理">#</a></h2><h3 id="用户信息管理">用户信息管理<a class="anchor" aria-hidden="true" href="#用户信息管理">#</a></h3><h4 id="通知用户资料变更">通知用户资料变更<a class="anchor" aria-hidden="true" href="#通知用户资料变更">#</a></h4><p>当好友的用户资料变更时会收到此通知，使用方根据需要决定是否重新获取资料变更好友的用户信息。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserProfileChangeCallback</span> </span>{
   <span class="hljs-comment">/**
    * 用户信息变更通知
    * <span class="hljs-doctag">@param</span> userID 用户资料变更好友的用户ID    
    */</span> 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onUserInfoChangeNotify</span><span class="hljs-params">(String userID)</span></span>;
}
</code></pre>
</li>
</ul>
<h4 id="设置用户信息">设置用户信息<a class="anchor" aria-hidden="true" href="#设置用户信息">#</a></h4><p>设置用户的基本资料，昵称，性别，个性签名，地理位置等。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 设置用户信息
 * <span class="hljs-doctag">@param</span> userInfo 用户基本信息   
 * <span class="hljs-doctag">@param</span> callback 设置用户资料回调
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUserProfileInfo</span><span class="hljs-params">(YIMUserSettingInfo userInfo, YIMEventCallback.OperationCallback callback)</span></span>
</code></pre>
</li>
<li><p>备注：<br><code>YIMUserSettingInfo</code>类成员如下：<br><code>nickName</code>：String类型，昵称，长度在64bytes以内<br><code>sex</code>：Integer类型，性别，0-未知性别，1-男性，2-女性<br><code>signature</code>：String类型，个性签名，长度在120bytes以内<br><code>country</code>：String类型，国家<br><code>province</code>：String类型，省份<br><code>city</code>：String类型，城市<br><code>extraInfo</code>：String类型，扩展信息，JSON格式   </p>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OperationCallback</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode)</span></span>;
}
</code></pre>
</li>
</ul>
<h4 id="查询用户基本资料">查询用户基本资料<a class="anchor" aria-hidden="true" href="#查询用户基本资料">#</a></h4><p>查询用户的基本资料，昵称，性别，个性签名，头像，地理位置，被添加权限等。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 查询用户信息
 * <span class="hljs-doctag">@param</span> userID 用户ID   
 * <span class="hljs-doctag">@param</span> callback 查询用户基本资料回调
 */</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserProfileInfo</span><span class="hljs-params">(String userID, YIMEventCallback.ResultCallback&lt;UserProfileInfo&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">UserProfileInfo</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> userInfo 用户资料    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(UserProfileInfo userInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> userInfo 用户资料  
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, UserProfileInfo userInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>UserProfileInfo</code>类成员如下：<br><code>userID</code>：String类型，用户ID<br><code>photoUrl</code>：String类型，头像url<br><code>onlineState</code>：int类型，在线状态，0-在线,1-离线<br><code>beAddPermission</code>：int类型，被好友添加权限，0-不允许被添加,1-需要验证,                   </p>
<pre><code>             <span class="hljs-number">2</span>-允许被添加，不需要验证  
</code></pre><p><code>foundPermission</code>：int类型，被查找时是否显示被添加权限，</p>
<pre><code>              <span class="hljs-number">0</span>-被其它用户查找时显示自己的被添加权限，
              <span class="hljs-number">1</span>-被其它用户查找时不显示自己的被添加权限                    
</code></pre><p><code>nickName</code>：String类型，昵称<br><code>sex</code>：int类型，性别，0-未知性别，1-男性，2-女性<br><code>signature</code>：String类型，个性签名<br><code>country</code>：String类型，国家<br><code>province</code>：String类型，省份<br><code>city</code>：String类型，城市<br><code>extraInfo</code>：String类型，扩展信息，JSON格式</p>
</li>
</ul>
<h4 id="设置用户头像">设置用户头像<a class="anchor" aria-hidden="true" href="#设置用户头像">#</a></h4><ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 设置用户头像
 * <span class="hljs-doctag">@param</span> photoPath：本地图片绝对路径，url长度在500bytes内，图片大小在100kb内   
 * <span class="hljs-doctag">@param</span> callback 设置头像回调
 */</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUserProfilePhoto</span><span class="hljs-params">(String photoPath, YIMEventCallback.ResultCallback&lt;String&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">String</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> photoUrl：头像的下载URL   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(String photoUrl)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> photoUrl：头像的下载URL 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, String photoUrl)</span></span>;
}
</code></pre>
</li>
</ul>
<h4 id="切换用户状态">切换用户状态<a class="anchor" aria-hidden="true" href="#切换用户状态">#</a></h4><ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 切换用户在线状态
 * <span class="hljs-doctag">@param</span> userID：用户ID
 * <span class="hljs-doctag">@param</span> userStatus：用户在线状态，0-在线，1-离线，2-隐身
 * <span class="hljs-doctag">@param</span> callback 切换在线状态回调
 */</span>  
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">switchUserStatus</span><span class="hljs-params">(String userID, <span class="hljs-keyword">int</span> userStatus, YIMEventCallback.OperationCallback callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OperationCallback</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode)</span></span>;
}
</code></pre>
</li>
</ul>
<h4 id="设置好友添加权限">设置好友添加权限<a class="anchor" aria-hidden="true" href="#设置好友添加权限">#</a></h4><ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 设置好友添加权限
 * <span class="hljs-doctag">@param</span> beFound：能否被别人查找到，true-能被查找，false-不能被查找
 * <span class="hljs-doctag">@param</span> beAddPermission：被其它用户添加的权限，0-不允许被添加，1-需要验证，2-允许被添加，不需要验证
 * <span class="hljs-doctag">@param</span> callback 设置添加权限回调
 */</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAddPermission</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> beFound, <span class="hljs-keyword">int</span> beAddPermission, YIMEventCallback.OperationCallback callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OperationCallback</span> </span>{   
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode)</span></span>;
}
</code></pre>
</li>
</ul>
<h3 id="好友管理">好友管理<a class="anchor" aria-hidden="true" href="#好友管理">#</a></h3><h4 id="查找好友">查找好友<a class="anchor" aria-hidden="true" href="#查找好友">#</a></h4><p>查找将要添加的好友，获取该好友的简要信息。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 查找好友
 * <span class="hljs-doctag">@param</span> findType：查找类型，0-按ID查找，1-按昵称查找  
 * <span class="hljs-doctag">@param</span> target：对应查找类型选择的用户ID或昵称 
 * <span class="hljs-doctag">@param</span> callback 查找好友回调
 */</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">findUser</span><span class="hljs-params">(<span class="hljs-keyword">int</span> findType, String target, YIMEventCallback.ResultCallback&lt;ArrayList&lt;YIMUserBriefInfo&gt;&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">ArrayList</span>&lt;<span class="hljs-title">YIMUserBriefInfo</span>&gt;&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> userList：用户简要信息列表   
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(ArrayList&lt;YIMUserBriefInfo&gt; userList)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> userList：用户简要信息列表 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, ArrayList&lt;YIMUserBriefInfo&gt; userList)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>YIMUserBriefInfo</code>类成员如下：<br><code>userID</code>：String类型，用户ID<br><code>nickName</code>：String类型，用户昵称<br><code>userStatus</code>：int类型，在线状态，0-在线，1-离线，2-隐身     </p>
</li>
</ul>
<h4 id="添加好友">添加好友<a class="anchor" aria-hidden="true" href="#添加好友">#</a></h4><ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 添加好友
 * <span class="hljs-doctag">@param</span> users：需要添加为好友的用户ID列表  
 * <span class="hljs-doctag">@param</span> comments：备注或验证信息，长度最大128bytes 
 * <span class="hljs-doctag">@param</span> callback 请求添加好友回调
 */</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">requestAddFriend</span><span class="hljs-params">(List&lt;String&gt; users, String comments, YIMEventCallback.ResultCallback&lt;String&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">String</span>&gt; </span>{ 

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> userID：用户ID    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(String userID)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> userID：用户ID  
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, String userID)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br>被请求方会收到被添加为好友的通知，被请求方如果设置了需要验证才能被添加，会收到下面的回调：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FriendNotifyCallback</span> </span>{ 
    <span class="hljs-comment">/**
     * 被请求添加为好友通知（需要验证）
     * <span class="hljs-doctag">@param</span> userID：请求方的用户ID  
     * <span class="hljs-doctag">@param</span> comments：备注或验证信息 
     */</span>
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBeRequestAddFriendNotify</span><span class="hljs-params">(String userID, String comments)</span></span>;
}
</code></pre>
<p>被请求方如果设置了不需要验证就能被添加，收到下面的回调：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FriendNotifyCallback</span> </span>{
   <span class="hljs-comment">/**
    * 被请求添加为好友通知（不需要验证）
    * <span class="hljs-doctag">@param</span> userID：请求方的用户ID  
    * <span class="hljs-doctag">@param</span> comments：备注或验证信息 
    */</span>  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBeAddFriendNotify</span><span class="hljs-params">(String userID, String comments)</span></span>;
}
</code></pre>
</li>
</ul>
<h4 id="处理好友请求">处理好友请求<a class="anchor" aria-hidden="true" href="#处理好友请求">#</a></h4><p>当前用户有被其它用户请求添加为好友的请求时，处理添加请求。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 处理被添加为好友的请求
 * <span class="hljs-doctag">@param</span> userID：请求方的用户ID 
 * <span class="hljs-doctag">@param</span> dealResult：处理结果，0-同意，1-拒绝 
 * <span class="hljs-doctag">@param</span> callback 处理请求回调
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dealBeRequestAddFriend</span><span class="hljs-params">(String userID, <span class="hljs-keyword">int</span> dealResult, YIMEventCallback.ResultCallback&lt;YIMFriendDealResult&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">YIMFriendDealResult</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span>  dealResultInfo：处理被请求添加好友结果信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(YIMFriendDealResult dealResultInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span>  dealResultInfo：处理被请求添加好友结果信息  
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMFriendDealResult  dealResultInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：</p>
<p> 如果被请求方设置了需要验证才能被添加为好友，在被请求方成功处理了请求方的好友请求后，请求方能收到添加好友请求结果的通知，收到下面的回调：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FriendNotifyCallback</span> </span>{
    <span class="hljs-comment">/**
     * 请求添加好友结果通知(需要好友验证，待被请求方处理后回调)   
     * <span class="hljs-doctag">@param</span> userID：请求方的用户ID
     * <span class="hljs-doctag">@param</span> comments：备注或验证信息 
     * <span class="hljs-doctag">@param</span> dealResult：处理结果，0-同意，1-拒绝 
     */</span>   
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onRequestAddFriendResultNotify</span><span class="hljs-params">(String userID, String comments, Interger dealResult)</span></span>;
}
</code></pre>
<p><code>YIMFriendDealResult</code>: 类成员变量如下<br><code>userID</code>: 请求方的用户ID, String类型<br><code>comments</code>: 备注或验证信息，String类型<br><code>dealResult</code>: 处理结果，0-同意，1-拒绝 ，int类型</p>
</li>
</ul>
<h4 id="删除好友">删除好友<a class="anchor" aria-hidden="true" href="#删除好友">#</a></h4><ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 删除好友
 * <span class="hljs-doctag">@param</span> users：需删除的好友用户ID列表 
 * <span class="hljs-doctag">@param</span> deleteType：删除类型，0-双向删除，1-单向删除(删除方在被删除方好友列表依然存在) 
 * <span class="hljs-doctag">@param</span> callback 删除好友回调
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteFriend</span><span class="hljs-params">(List&lt;String&gt; users, <span class="hljs-keyword">int</span> deleteType, YIMEventCallback.ResultCallback&lt;String&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">String</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> userID：用户ID    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(String userID)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> userID：用户ID  
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, String userID)</span></span>;
}
</code></pre>
</li>
<li><p>备注：</p>
<p> 如果删除方采用的是双向删除，被删除方能收到其被好友删除的通知，收到下面的回调：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FriendNotifyCallback</span> </span>{
   <span class="hljs-comment">/**
    * 被好友删除通知   
    * <span class="hljs-doctag">@param</span> userID：删除方的用户ID    
    */</span> 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBeDeleteFriendNotify</span><span class="hljs-params">(String userID)</span></span>;
}
</code></pre>
</li>
</ul>
<h4 id="拉黑好友">拉黑好友<a class="anchor" aria-hidden="true" href="#拉黑好友">#</a></h4><ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 拉黑好友
 * <span class="hljs-doctag">@param</span> type：拉黑类型，0-拉黑，1-解除拉黑 
 * <span class="hljs-doctag">@param</span> users：需拉黑的好友用户ID列表
 * <span class="hljs-doctag">@param</span> callback 拉黑好友的回调
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">blackFriend</span><span class="hljs-params">(<span class="hljs-keyword">int</span> type, List&lt;String&gt; users, YIMEventCallback.ResultCallback&lt;YIMBlackFriendInfo&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">YIMBlackFriendInfo</span>&gt; </span>{  

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> blackInfo：拉黑用户相关信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(YIMBlackFriendInfo blackInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> blackInfo：拉黑用户相关信息 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMBlackFriendInfo blackInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>YIMBlackFriendInfo</code>: 类成员方法如下<br><code>type</code>: 拉黑类型，0-拉黑，1-解除拉黑, int类型<br><code>userID</code>: 被拉黑方用户ID，String类型   </p>
</li>
</ul>
<h4 id="查询好友列表">查询好友列表<a class="anchor" aria-hidden="true" href="#查询好友列表">#</a></h4><p>查询当前用户已添加的好友，也能查找被拉黑的好友。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 查询我的好友
 * <span class="hljs-doctag">@param</span> type：查找类型，0-正常状态的好友，1-被拉黑的好友 
 * <span class="hljs-doctag">@param</span> startIndex：起始序号，作用为分批查询好友（例如：第一次从序号0开始查询30条，第二次就从序号30开始查询相应的count数）
 * <span class="hljs-doctag">@param</span> count：数量（一次最大100）
 * <span class="hljs-doctag">@param</span> callback 查询我的好友回调
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">queryFriends</span><span class="hljs-params">(<span class="hljs-keyword">int</span> type, <span class="hljs-keyword">int</span> startIndex, <span class="hljs-keyword">int</span> count, YIMEventCallback.ResultCallback&lt;YIMFriendListInfo&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调参数：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">YIMFriendListInfo</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> friendListInfo：好友列表信息    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(YIMFriendListInfo friendListInfo)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> friendListInfo：好友列表信息 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMFriendListInfo friendListInfo)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>YIMFriendListInfo</code>类成员如下：<br><code>type</code>: 查找类型，0-正常状态的好友，1-被拉黑的好友, int类型<br><code>startIndex</code>: 起始序号，int类型<br><code>userList</code>: 好友列表，ArrayList&lt;YIMUserBriefInfo&gt;类型</p>
<p><code>YIMUserBriefInfo</code>类成员如下：<br><code>userID</code>：String类型，用户ID<br><code>nickName</code>：String类型，用户昵称<br><code>userStatus</code>：int类型，在线状态，0-在线，1-离线，2-隐身   </p>
</li>
</ul>
<h4 id="查询好友请求列表">查询好友请求列表<a class="anchor" aria-hidden="true" href="#查询好友请求列表">#</a></h4><p>查询当前用户收到的被添加请求的好友列表。</p>
<ul>
<li><p>原型</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 * 查询好友请求列表   
 * <span class="hljs-doctag">@param</span> startIndex：起始序号，作用为分批查询好友请求（例如：第一次从序号0开始查询10条，第二次就从序号10开始查询相应的count数）
 * <span class="hljs-doctag">@param</span> count：数量（一次最大20）
 * <span class="hljs-doctag">@param</span> callback 查询好友请求列表回调
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">queryFriendRequestList</span><span class="hljs-params">(<span class="hljs-keyword">int</span> startIndex, <span class="hljs-keyword">int</span> count, YIMEventCallback.ResultCallback&lt;YIMFriendRequestInfoList&gt; callback)</span></span>
</code></pre>
</li>
<li><p>回调：</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResultCallback</span>&lt;<span class="hljs-title">YIMFriendRequestInfoList</span>&gt; </span>{

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> requestInfoList：请求信息列表    
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(YIMFriendRequestInfoList requestInfoList)</span></span>;

   <span class="hljs-comment">/**
    * <span class="hljs-doctag">@param</span> errorcode 错误码   
    * <span class="hljs-doctag">@param</span> requestInfoList：请求信息列表 
    */</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailed</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errorcode, YIMFriendRequestInfoList requestInfoList)</span></span>;
}
</code></pre>
</li>
<li><p>备注：<br><code>YIMFriendRequestInfoList</code>类成员如下:<br><code>startIndex</code>: 起始序号, int类型<br><code>userList</code>: 好友请求列表，ArrayList&lt;YIMFriendRequestInfo&gt;类型</p>
<p><code>YIMFriendRequestInfo</code>类成员如下：<br><code>askerID</code>：String类型，请求方ID<br><code>askerNickname</code>：String类型，请求方昵称<br><code>inviteeID</code>：String类型，受邀方ID<br><code>inviteeNickname</code>：String类型，受邀方昵称<br><code>validateInfo</code>：String类型，验证信息<br><code>addStatus</code>：int类型，好友请求状态，</p>
<pre><code>           <span class="hljs-number">0</span>-添加完成，
           <span class="hljs-number">1</span>-添加失败，  
           <span class="hljs-number">2</span>-等待对方验证， 
           <span class="hljs-number">3</span>-等待我验证
</code></pre><p><code>createTime</code>：int类型，请求的发送或接收时间</p>
</li>
</ul>
<h2 id="服务器部署地区定义">服务器部署地区定义<a class="anchor" aria-hidden="true" href="#服务器部署地区定义">#</a></h2><pre><code class="lang-java">YIMService.ServerZone{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> China = <span class="hljs-number">0</span>; <span class="hljs-comment">// 默认中国</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Singapore = <span class="hljs-number">1</span>; <span class="hljs-comment">// 新加坡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> America = <span class="hljs-number">2</span>; <span class="hljs-comment">// 美国</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> HongKong = <span class="hljs-number">3</span>; <span class="hljs-comment">// 香港</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Korea = <span class="hljs-number">4</span>; <span class="hljs-comment">// 韩国</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Australia = <span class="hljs-number">5</span>; <span class="hljs-comment">// 澳洲</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Deutschland = <span class="hljs-number">6</span>; <span class="hljs-comment">// 德国</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Brazil = <span class="hljs-number">7</span>; <span class="hljs-comment">// 巴西</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> India = <span class="hljs-number">8</span>; <span class="hljs-comment">// 印度</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Japan = <span class="hljs-number">9</span>; <span class="hljs-comment">// 日本</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Ireland = <span class="hljs-number">10</span>; <span class="hljs-comment">// 爱尔兰</span>
}
</code></pre>
<h2 id="错误码定义">错误码定义<a class="anchor" aria-hidden="true" href="#错误码定义">#</a></h2><pre><code> java

    YIMConstInfo.ErrorCode{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Success = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> EngineNotInit = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NotLogin = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ParamInvalid = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> TimeOut = <span class="hljs-number">4</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> StatusError = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> SDKInvalid = <span class="hljs-number">6</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> AlreadyLogin = <span class="hljs-number">7</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ServerError = <span class="hljs-number">8</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NetError = <span class="hljs-number">9</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> LoginSessionError = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NotStartUp = <span class="hljs-number">11</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> FileNotExist = <span class="hljs-number">12</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> SendFileError = <span class="hljs-number">13</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UploadFailed = <span class="hljs-number">14</span>;        <span class="hljs-comment">//上传失败 一般都是网络限制上传了</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UsernamePasswordError = <span class="hljs-number">15</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UserStatusError = <span class="hljs-number">16</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> MessageTooLong = <span class="hljs-number">17</span>;   <span class="hljs-comment">//消息太长</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ReceiverTooLong = <span class="hljs-number">18</span>;  <span class="hljs-comment">//接收方ID过长(检查房间名)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidChatType = <span class="hljs-number">19</span>;  <span class="hljs-comment">//无效聊天类型(私聊、聊天室)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidReceiver = <span class="hljs-number">20</span>;  <span class="hljs-comment">//无效用户ID（私聊接受者为数字格式ID）</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UnknowError = <span class="hljs-number">21</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidAppkey = <span class="hljs-number">22</span>; <span class="hljs-comment">//无效APPKEY</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ForbiddenSpeak = <span class="hljs-number">23</span>, <span class="hljs-comment">//被禁言</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> CreateFileFailed = <span class="hljs-number">24</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UnsupportFormat = <span class="hljs-number">25</span>; <span class="hljs-comment">//不支持的文件格式</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ReceiverEmpty = <span class="hljs-number">26</span>;  <span class="hljs-comment">//接收方为空</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> RoomIDTooLong = <span class="hljs-number">27</span>;<span class="hljs-comment">//房间名太长</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ContentInvalid = <span class="hljs-number">28</span>;<span class="hljs-comment">//聊天内容严重非法</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NoLocationAuthrize = <span class="hljs-number">29</span>;<span class="hljs-comment">//未打开定位权限</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UnknowLocation = <span class="hljs-number">30</span>;    <span class="hljs-comment">//未知位置</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Unsupport  = <span class="hljs-number">31</span>;        <span class="hljs-comment">//不支持该接口</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NoAudioDevice = <span class="hljs-number">32</span>;     <span class="hljs-comment">//无音频设备</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> AudioDriver = <span class="hljs-number">33</span>;       <span class="hljs-comment">//音频驱动问题</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> DeviceStatusInvalid = <span class="hljs-number">34</span>,       <span class="hljs-comment">//设备状态错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ResolveFileError = <span class="hljs-number">35</span>,          <span class="hljs-comment">//文件解析错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ReadWriteFileError = <span class="hljs-number">36</span>,        <span class="hljs-comment">//文件读写错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NoLangCode = <span class="hljs-number">37</span>,                <span class="hljs-comment">//语言编码错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> TranslateUnable = <span class="hljs-number">38</span>,           <span class="hljs-comment">//翻译接口不可用</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> SpeechAccentInvalid = <span class="hljs-number">39</span>,       <span class="hljs-comment">//语音识别方言无效</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> SpeechLanguageInvalid = <span class="hljs-number">40</span>,     <span class="hljs-comment">//语音识别语言无效</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> HasIllegalText = <span class="hljs-number">41</span>;            <span class="hljs-comment">//消息含非法字符</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> AdvertisementMessage = <span class="hljs-number">42</span>;      <span class="hljs-comment">//消息涉嫌广告</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> AlreadyBlock = <span class="hljs-number">43</span>;              <span class="hljs-comment">//用户已经被屏蔽</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NotBlock = <span class="hljs-number">44</span>;                  <span class="hljs-comment">//用户未被屏蔽</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> MessageBlocked = <span class="hljs-number">45</span>;            <span class="hljs-comment">//消息被屏蔽</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> LocationTimeout = <span class="hljs-number">46</span>;           <span class="hljs-comment">//定位超时        </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NotJoinRoom = <span class="hljs-number">47</span>,               <span class="hljs-comment">//未加入该房间</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> LoginTokenInvalid = <span class="hljs-number">48</span>,         <span class="hljs-comment">//登录token错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> CreateDirectoryFailed = <span class="hljs-number">49</span>,     <span class="hljs-comment">//创建目录失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InitFailed = <span class="hljs-number">50</span>;                <span class="hljs-comment">//初始化失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Disconnect = <span class="hljs-number">51</span>;               <span class="hljs-comment">//与服务器断开</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> TheSameParam = <span class="hljs-number">52</span>;             <span class="hljs-comment">//设置参数相同</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> QueryUserInfoFail = <span class="hljs-number">53</span>;         <span class="hljs-comment">//查询用户信息失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> SetUserInfoFail = <span class="hljs-number">54</span>;           <span class="hljs-comment">//设置用户信息失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> UpdateUserOnlineStateFail = <span class="hljs-number">55</span>; <span class="hljs-comment">//更新用户在线状态失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NickNameTooLong = <span class="hljs-number">56</span>;           <span class="hljs-comment">//昵称太长(&gt; 64 bytes)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> SignatureTooLong = <span class="hljs-number">57</span>;          <span class="hljs-comment">//个性签名太长(&gt; 120 bytes)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NeedFriendVerify = <span class="hljs-number">58</span>;         <span class="hljs-comment">//需要好友验证信息</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> BeRefuse = <span class="hljs-number">59</span>;                 <span class="hljs-comment">//添加好友被拒绝</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> HasNotRegisterUserInfo = <span class="hljs-number">60</span>;   <span class="hljs-comment">//未注册用户信息</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> AlreadyFriend = <span class="hljs-number">61</span>;            <span class="hljs-comment">//已经是好友</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NotFriend = <span class="hljs-number">62</span>;               <span class="hljs-comment">//非好友</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> NotBlack = <span class="hljs-number">63</span>;                 <span class="hljs-comment">//不在黑名单中</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PhotoUrlTooLong = <span class="hljs-number">64</span>;         <span class="hljs-comment">//头像url过长(&gt;500 bytes)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PhotoSizeTooLarge = <span class="hljs-number">65</span>;       <span class="hljs-comment">//头像太大（&gt;100 kb）</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ChannelMemberOverflow = <span class="hljs-number">66</span>;   <span class="hljs-comment">// 达到频道人数上限</span>
    <span class="hljs-comment">//服务器的错误码</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ALREADYFRIENDS = <span class="hljs-number">1000</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> LoginInvalid = <span class="hljs-number">1001</span>;

    <span class="hljs-comment">//语音部分错误码</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_Start = <span class="hljs-number">2000</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_Fail = <span class="hljs-number">2001</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_DownloadFail = <span class="hljs-number">2002</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_GetUploadTokenFail = <span class="hljs-number">2003</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_UploadFail = <span class="hljs-number">2004</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_NotSpeech = <span class="hljs-number">2005</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_DeviceStatusError = <span class="hljs-number">2006</span>,       <span class="hljs-comment">//音频设备状态错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_IsSpeeching = <span class="hljs-number">2007</span>,             <span class="hljs-comment">//已开启语音</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_FileNotExist = <span class="hljs-number">2008</span>,
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_ReachMaxDuration = <span class="hljs-number">2009</span>,        <span class="hljs-comment">//达到语音最大时长限制</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_SpeechTooShort = <span class="hljs-number">2010</span>,          <span class="hljs-comment">//语音时长太短</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_StartAudioRecordFailed = <span class="hljs-number">2011</span>,  <span class="hljs-comment">//启动语音失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_SpeechTimeout = <span class="hljs-number">2012</span>,           <span class="hljs-comment">//音频输入超时</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_IsPlaying = <span class="hljs-number">2013</span>,               <span class="hljs-comment">//正在播放</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_NotStartPlay = <span class="hljs-number">2014</span>,            <span class="hljs-comment">//未开始播放</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_CancelPlay = <span class="hljs-number">2015</span>,              <span class="hljs-comment">//主动取消播放</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_NotStartRecord = <span class="hljs-number">2016</span>,          <span class="hljs-comment">//未开始语音</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_NotInit = <span class="hljs-number">2017</span>,                 <span class="hljs-comment">// 未初始化</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_InitFailed = <span class="hljs-number">2018</span>,              <span class="hljs-comment">// 初始化失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_Authorize = <span class="hljs-number">2019</span>,               <span class="hljs-comment">// 录音权限</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_StartRecordFailed = <span class="hljs-number">2020</span>,       <span class="hljs-comment">// 启动录音失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_StopRecordFailed = <span class="hljs-number">2021</span>,        <span class="hljs-comment">// 停止录音失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_UnsupprtFormat = <span class="hljs-number">2022</span>,          <span class="hljs-comment">// 不支持的格式</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_ResolveFileError = <span class="hljs-number">2023</span>,        <span class="hljs-comment">// 解析文件错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_ReadWriteFileError = <span class="hljs-number">2024</span>,      <span class="hljs-comment">// 读写文件错误</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_ConvertFileFailed = <span class="hljs-number">2025</span>,       <span class="hljs-comment">// 文件转换失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_NoAudioDevice = <span class="hljs-number">2026</span>,           <span class="hljs-comment">// 无音频设备</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_NoDriver = <span class="hljs-number">2027</span>,                <span class="hljs-comment">// 驱动问题</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_StartPlayFailed = <span class="hljs-number">2028</span>,         <span class="hljs-comment">// 启动播放失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> PTT_StopPlayFailed = <span class="hljs-number">2029</span>,          <span class="hljs-comment">// 停止播放失败</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidUserId = <span class="hljs-number">3000</span>,               <span class="hljs-comment">// 无效的用户ID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidRoomId = <span class="hljs-number">3001</span>,               <span class="hljs-comment">// 无效的房间ID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidPassword = <span class="hljs-number">3002</span>,             <span class="hljs-comment">// 无效的密码</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidStoragaePath = <span class="hljs-number">3003</span>,         <span class="hljs-comment">// 无效的存储路径</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidAppKey = <span class="hljs-number">3004</span>,               <span class="hljs-comment">// 无效的appkey</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvalidContext = <span class="hljs-number">3005</span>,              <span class="hljs-comment">// 无效的上下文环境</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> InvaliddSecretKey = <span class="hljs-number">3006</span>,           <span class="hljs-comment">// 无效的secretkey</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> Fail = <span class="hljs-number">10000</span>;
    }
</code></pre></section>                  </div>                </section>              </section>              <footer class="bg-gray">                <section id="copyright" class="grid-footer container grid-960">                  <p>                    Copyright © 2017 <a href="http://www.youme.im" target="_blank">YouMe</a>. All Rights Reserved.                  </p>                </section>              </footer>            </body>            <script>!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e,t){for(;e&&e!==document;){if(e.matches(t))return e;e=e.parentNode}}if(Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t,n){function i(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}var r=e("./closest");t.exports=i},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return o(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e("./is"),l=e("delegate");t.exports=i},{"./is":3,delegate:2}],5:[function(e,t,n){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}t.exports=i},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof i)r(n,t("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function e(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function e(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function e(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function e(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function e(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function e(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function e(){this.removeFake()}},{key:"action",set:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function e(){return this._action}},{key:"target",set:function e(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function e(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=o(t),u=o(n),f=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return c(t,e),d(t,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function e(t){var n=this;this.listener=(0,f.default)(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function e(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:"defaultAction",value:function e(t){return l("action",t)}},{key:"defaultTarget",value:function e(t){var n=l("target",t);if(n)return document.querySelector(n)}},{key:"defaultText",value:function e(t){return l("text",t)}},{key:"destroy",value:function e(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(u.default);e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});

function resize(){
  var heights = window.innerHeight;
  document.querySelectorAll('.docs-nav')[0].style.height = heights + "px";
}
resize();
window.onresize = function() {
    resize();
};
var codebox = document.querySelectorAll('pre') || [];
for (i = 0; i < codebox.length; ++i) {
  codebox[i].insertAdjacentHTML('afterbegin', '<div class="copy-success">复制成功</div><button class="copyButton">COPY</button>');
}
var clipboard = new Clipboard('.copyButton', {
  target: function(trigger) {
    return trigger.nextElementSibling;
  }
});
clipboard.on('success', function(e) {
  var tip = e.trigger.previousElementSibling;
  var code = e.trigger.nextElementSibling;
  tip.style.display = 'block';
  code.classList.add("mask");
  setTimeout(function() {
    tip.style.display = 'none';
    code.classList.remove("mask");
  }, 1000);
});</script>            </html>